(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77cc2fb6","npm.quill-1da693dd","npm.vue-quill-editor-c60e0a59"],{"0e20":function(e,t,a){"use strict";a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return s})),a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return c}));a("b680"),a("d3b7"),a("25f0"),a("ac1f"),a("1276"),a("159b"),a("fb6a"),a("a15b"),a("d81d"),a("5319");var i=a("ca6e"),l=function(e){return e>999?"".concat((e/1e3).toFixed(1),"k"):e},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";if(!e)return"";var a=e.toString(),i=a.split(t),l=[];return i.forEach((function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);l.push(t)})),l.join(" ")},n=function(e){if(!e)return"";var t=e.split(" ");return t.map((function(e){return e.charAt(0).toUpperCase()})).join("")},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"short",day:"numeric",year:"numeric"};return e?new Intl.DateTimeFormat("en-US",t).format(new Date(e)):e},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=new Date(e),l={month:"short",day:"numeric"};return t&&Object(i["c"])(a)&&(l={hour:"numeric",minute:"numeric"}),new Intl.DateTimeFormat("en-US",l).format(new Date(e))},c=function(e){return e.replace(/<\/?[^>]+(>|$)/g,"")}},"1bd7":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a("4360"),l=a("ed09"),s=function(){var e=Object(l["ref"])(!1),t=Object(l["computed"])((function(){return i["a"].getters["app/currentBreakPoint"]}));return Object(l["watch"])(t,(function(t,a){"md"===a&&"lg"===t&&(e.value=!1)})),{mqShallShowLeftSidebar:e}}},"3dee":function(e,t,a){"use strict";a("fa1e")},"4f65":function(e,t,a){"use strict";a("5ae4")},"5ae4":function(e,t,a){},"953d":function(e,t,a){!function(t,i){e.exports=i(a("9339"))}(0,(function(e){return function(e){function t(i){if(a[i])return a[i].exports;var l=a[i]={i:i,l:!1,exports:{}};return e[i].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=2)}([function(t,a){t.exports=e},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(4),l=a.n(i),s=a(6),n=a(5),o=n(l.a,s.a,!1,null,null,null);t.default=o.exports},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.install=t.quillEditor=t.Quill=void 0;var l=a(0),s=i(l),n=a(1),o=i(n),r=window.Quill||s.default,c=function(e,t){t&&(o.default.props.globalOptions.default=function(){return t}),e.component(o.default.name,o.default)},u={Quill:r,quillEditor:o.default,install:c};t.default=u,t.Quill=r,t.quillEditor=o.default,t.install=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={theme:"snow",boundary:document.body,modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"Insert text here ...",readOnly:!1}},function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),s=i(l),n=a(3),o=i(n),r=window.Quill||s.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),i=1;i<arguments.length;i++){var l=arguments[i];if(null!=l)for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(a[s]=l[s])}return a},writable:!0,configurable:!0}),t.default={name:"quill-editor",data:function(){return{_options:{},_content:"",defaultOptions:o.default}},props:{content:String,value:String,disabled:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{}}},globalOptions:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null,delete this.quill},methods:{initialize:function(){var e=this;this.$el&&(this._options=Object.assign({},this.defaultOptions,this.globalOptions,this.options),this.quill=new r(this.$refs.editor,this._options),this.quill.enable(!1),(this.value||this.content)&&this.quill.pasteHTML(this.value||this.content),this.disabled||this.quill.enable(!0),this.quill.on("selection-change",(function(t){t?e.$emit("focus",e.quill):e.$emit("blur",e.quill)})),this.quill.on("text-change",(function(t,a,i){var l=e.$refs.editor.children[0].innerHTML,s=e.quill,n=e.quill.getText();"<p><br></p>"===l&&(l=""),e._content=l,e.$emit("input",e._content),e.$emit("change",{html:l,text:n,quill:s})})),this.$emit("ready",this.quill))}},watch:{content:function(e,t){this.quill&&(e&&e!==this._content?(this._content=e,this.quill.pasteHTML(e)):e||this.quill.setText(""))},value:function(e,t){this.quill&&(e&&e!==this._content?(this._content=e,this.quill.pasteHTML(e)):e||this.quill.setText(""))},disabled:function(e,t){this.quill&&this.quill.enable(!e)}}}},function(e,t){e.exports=function(e,t,a,i,l,s){var n,o=e=e||{},r=typeof e.default;"object"!==r&&"function"!==r||(n=e,o=e.default);var c,u="function"==typeof o?o.options:o;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),a&&(u.functional=!0),l&&(u._scopeId=l),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=i),c){var d=u.functional,m=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(e,t){return c.call(t),m(e,t)}):u.beforeCreate=m?[].concat(m,c):[c]}return{esModule:n,exports:o,options:u}}},function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"quill-editor"},[e._t("toolbar"),e._v(" "),a("div",{ref:"editor"})],2)},l=[],s={render:i,staticRenderFns:l};t.a=s}])}))},a12c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"inherit"}},[a("div",{staticClass:"body-content-overlay",class:{show:e.mqShallShowLeftSidebar},on:{click:function(t){e.mqShallShowLeftSidebar=!1}}}),a("div",{staticClass:"email-app-list"},[a("div",{staticClass:"app-fixed-search d-flex align-items-center"},[a("div",{staticClass:"sidebar-toggle d-block d-lg-none ml-1"},[a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"MenuIcon",size:"21"},on:{click:function(t){e.mqShallShowLeftSidebar=!0}}})],1),a("div",{staticClass:"d-flex align-content-center justify-content-between w-100"},[a("b-input-group",{staticClass:"input-group-merge"},[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("feather-icon",{staticClass:"text-muted",attrs:{icon:"SearchIcon"}})],1),a("b-form-input",{attrs:{value:e.searchQuery,placeholder:"Search email"},on:{input:e.updateRouteQuery}})],1)],1)]),a("div",{staticClass:"app-action"},[a("div",{staticClass:"action-left"},[a("b-form-checkbox",{attrs:{checked:e.selectAllEmailCheckbox,indeterminate:e.isSelectAllEmailCheckboxIndeterminate},on:{change:e.selectAllCheckboxUpdate}},[e._v(" Select All ")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedEmails.length,expression:"selectedEmails.length"}],staticClass:"align-items-center",class:{"d-flex":e.selectedEmails.length}},[a("b-dropdown",{attrs:{variant:"link","no-caret":"","toggle-class":"p-0",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("feather-icon",{staticClass:"align-middle text-body",attrs:{icon:"FolderIcon",size:"17"}})]},proxy:!0}])},[a("b-dropdown-item",{on:{click:function(t){return e.moveSelectedEmailsToFolder("draft")}}},[a("feather-icon",{attrs:{icon:"Edit2Icon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Draft")])],1),a("b-dropdown-item",{on:{click:function(t){return e.moveSelectedEmailsToFolder("spam")}}},[a("feather-icon",{attrs:{icon:"InfoIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Spam")])],1),a("b-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"trash"!==e.$route.params.folder,expression:"$route.params.folder !== 'trash'"}],on:{click:function(t){return e.moveSelectedEmailsToFolder("trash")}}},[a("feather-icon",{attrs:{icon:"TrashIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Trash")])],1)],1),a("b-dropdown",{staticClass:"ml-1",attrs:{variant:"link","no-caret":"","toggle-class":"p-0",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("feather-icon",{staticClass:"align-middle text-body",attrs:{icon:"TagIcon",size:"17"}})]},proxy:!0}])},[a("b-dropdown-item",{on:{click:function(t){return e.updateSelectedEmailsLabel("personal")}}},[a("span",{staticClass:"mr-50 bullet bullet-success bullet-sm"}),a("span",[e._v("Personal")])]),a("b-dropdown-item",{on:{click:function(t){return e.updateSelectedEmailsLabel("company")}}},[a("span",{staticClass:"mr-50 bullet bullet-primary bullet-sm"}),a("span",[e._v("Company")])]),a("b-dropdown-item",{on:{click:function(t){return e.updateSelectedEmailsLabel("important")}}},[a("span",{staticClass:"mr-50 bullet bullet-warning bullet-sm"}),a("span",[e._v("Important")])]),a("b-dropdown-item",{on:{click:function(t){return e.updateSelectedEmailsLabel("private")}}},[a("span",{staticClass:"mr-50 bullet bullet-danger bullet-sm"}),a("span",[e._v("Private")])])],1),a("feather-icon",{staticClass:"cursor-pointer ml-1",attrs:{icon:"MailIcon",size:"17"},on:{click:e.markSelectedEmailsAsUnread}}),a("feather-icon",{directives:[{name:"show",rawName:"v-show",value:"trash"!==e.$route.params.folder,expression:"$route.params.folder !== 'trash'"}],staticClass:"cursor-pointer ml-1",attrs:{icon:"TrashIcon",size:"17"},on:{click:function(t){return e.moveSelectedEmailsToFolder("trash")}}})],1)]),a("vue-perfect-scrollbar",{staticClass:"email-user-list scroll-area",attrs:{settings:e.perfectScrollbarSettings}},[a("ul",{staticClass:"email-media-list"},e._l(e.emails,(function(t){return a("b-media",{key:t.id,class:{"mail-read":t.isRead},attrs:{tag:"li","no-body":""},on:{click:function(a){return e.updateEmailViewData(t)}}},[a("b-media-aside",{staticClass:"media-left mr-50"},[a("b-avatar",{staticClass:"avatar",attrs:{size:"40",variant:"primary",src:t.from.avatar}}),a("div",{staticClass:"user-action"},[a("b-form-checkbox",{attrs:{checked:e.selectedEmails.includes(t.id)},on:{change:function(a){return e.toggleSelectedMail(t.id)}},nativeOn:{click:function(e){e.stopPropagation()}}}),a("div",{staticClass:"email-favorite"},[a("feather-icon",{class:{"text-warning fill-current":t.isStarred},attrs:{icon:"StarIcon",size:"17"},on:{click:function(a){return a.stopPropagation(),e.toggleStarred(t)}}})],1)],1)],1),a("b-media-body",[a("div",{staticClass:"mail-details"},[a("div",{staticClass:"mail-items"},[a("h5",{staticClass:"mb-25"},[e._v(" "+e._s(t.from.name)+" ")]),a("span",{staticClass:"text-truncate"},[e._v(e._s(t.subject))])]),a("div",{staticClass:"mail-meta-item"},[t.attachments.length?a("feather-icon",{attrs:{icon:"PaperclipIcon"}}):e._e(),e._l(t.labels,(function(t){return a("span",{key:t,staticClass:"mx-50 bullet bullet-sm",class:"bullet-"+e.resolveLabelColor(t)})})),a("span",{staticClass:"mail-date"},[e._v(e._s(e.formatDateToMonthShort(t.time,{hour:"numeric",minute:"numeric"})))])],2)]),a("div",{staticClass:"mail-message"},[a("p",{staticClass:"text-truncate mb-0"},[e._v(" "+e._s(e.filterTags(t.message))+" ")])])])],1)})),1),a("div",{staticClass:"no-results",class:{show:!e.emails.length}},[a("h5",[e._v("No Items Found")])])])],1),a("email-view",{class:{show:e.showEmailDetails},attrs:{"email-view-data":e.emailViewData,"opended-email-meta":e.opendedEmailMeta},on:{"close-email-view":function(t){e.showEmailDetails=!1},"move-email-to-folder":e.moveOpenEmailToFolder,"toggle-email-starred":function(t){return e.toggleStarred(e.emailViewData)},"update-email-label":e.updateOpenEmailLabel,"mark-email-unread":e.markOpenEmailAsUnread,"change-opened-email":e.changeOpenedEmail}}),a("portal",{attrs:{to:"content-renderer-sidebar-left"}},[a("email-left-sidebar",{class:{show:e.mqShallShowLeftSidebar},attrs:{"shall-show-email-compose-modal":e.shallShowEmailComposeModal,"emails-meta":e.emailsMeta},on:{"update:shallShowEmailComposeModal":function(t){e.shallShowEmailComposeModal=t},"update:shall-show-email-compose-modal":function(t){e.shallShowEmailComposeModal=t},"close-left-sidebar":function(t){e.mqShallShowLeftSidebar=!1}}})],1),a("email-compose",{model:{value:e.shallShowEmailComposeModal,callback:function(t){e.shallShowEmailComposeModal=t},expression:"shallShowEmailComposeModal"}})],1)},l=[],s=(a("e9c4"),a("ac1f"),a("5319"),a("b0c0"),a("a434"),a("d81d"),a("d3b7"),a("c740"),a("4360")),n=a("ed09"),o=a("4797"),r=a("5e12"),c=a("3656"),u=a("dd9a"),d=a("9eaa"),m=a("c3e6"),p=a("34b6"),f=a("7c32"),b=a("7fa6"),h=a("e8a3"),v=a("9d63"),g=a.n(v),C=a("0e20"),w=a("ca6e"),_=a("1bd7"),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar-left"},[a("div",{staticClass:"sidebar"},[a("div",{staticClass:"sidebar-content email-app-sidebar"},[a("div",{staticClass:"email-app-menu"},[a("div",{staticClass:"form-group-compose text-center compose-btn"},[a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{variant:"primary",block:""},on:{click:function(t){e.$emit("update:shall-show-email-compose-modal",!0),e.$emit("close-left-sidebar")}}},[e._v(" Compose ")])],1),a("vue-perfect-scrollbar",{staticClass:"sidebar-menu-list scroll-area",attrs:{settings:e.perfectScrollbarSettings}},[a("b-list-group",{staticClass:"list-group-messages"},e._l(e.emailFilters,(function(t){return a("b-list-group-item",{key:t.title+e.$route.path,attrs:{to:t.route,active:e.isDynamicRouteActive(t.route)},on:{click:function(t){return e.$emit("close-left-sidebar")}}},[a("feather-icon",{staticClass:"mr-75",attrs:{icon:t.icon,size:"18"}}),a("span",{staticClass:"align-text-bottom line-height-1"},[e._v(e._s(t.title))]),e.emailsMeta[t.title.toLowerCase()]?a("b-badge",{staticClass:"float-right",attrs:{pill:"",variant:e.resolveFilterBadgeColor(t.title)}},[e._v(" "+e._s(e.emailsMeta[t.title.toLowerCase()])+" ")]):e._e()],1)})),1),a("h6",{staticClass:"section-label mt-3 mb-1 px-2"},[e._v(" Labels ")]),a("b-list-group",{staticClass:"list-group-labels"},e._l(e.emailLabel,(function(t){return a("b-list-group-item",{key:t.title+e.$route.path,attrs:{to:t.route,active:e.isDynamicRouteActive(t.route)},on:{click:function(t){return e.$emit("close-left-sidebar")}}},[a("span",{staticClass:"bullet bullet-sm mr-1",class:"bullet-"+t.color}),a("span",[e._v(e._s(t.title))])])})),1)],1)],1)])])])},y=[],x=a("1947"),k=a("3135"),E=a("d247"),O=a("e98b"),j=a("e009"),I={directives:{Ripple:j["a"]},components:{BButton:x["a"],BListGroup:k["a"],BListGroupItem:E["a"],BBadge:O["a"],VuePerfectScrollbar:g.a},props:{shallShowEmailComposeModal:{type:Boolean,required:!0},emailsMeta:{type:Object,required:!0}},setup:function(){var e={maxScrollbarLength:60},t=[{title:"Inbox",icon:"MailIcon",route:{name:"apps-email"}},{title:"Sent",icon:"SendIcon",route:{name:"apps-email-folder",params:{folder:"sent"}}},{title:"Draft",icon:"Edit2Icon",route:{name:"apps-email-folder",params:{folder:"draft"}}},{title:"Starred",icon:"StarIcon",route:{name:"apps-email-folder",params:{folder:"starred"}}},{title:"Spam",icon:"InfoIcon",route:{name:"apps-email-folder",params:{folder:"spam"}}},{title:"Trash",icon:"TrashIcon",route:{name:"apps-email-folder",params:{folder:"trash"}}}],a=[{title:"Personal",color:"success",route:{name:"apps-email-label",params:{label:"personal"}}},{title:"Company",color:"primary",route:{name:"apps-email-label",params:{label:"company"}}},{title:"Important",color:"warning",route:{name:"apps-email-label",params:{label:"important"}}},{title:"Private",color:"danger",route:{name:"apps-email-label",params:{label:"private"}}}],i=function(e){return"Draft"===e?"light-warning":"Spam"===e?"light-danger":"light-primary"};return{perfectScrollbarSettings:e,isDynamicRouteActive:w["a"],resolveFilterBadgeColor:i,emailFilters:t,emailLabel:a}}},D=I,q=a("2877"),M=Object(q["a"])(D,S,y,!1,null,null,null),$=M.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"email-app-details"},[a("div",{staticClass:"email-detail-header"},[a("div",{staticClass:"email-header-left d-flex align-items-center"},[a("span",{staticClass:"go-back mr-1"},[a("feather-icon",{staticClass:"align-bottom",attrs:{icon:e.$store.state.appConfig.isRTL?"ChevronRightIcon":"ChevronLeftIcon",size:"20"},on:{click:function(t){return e.$emit("close-email-view")}}})],1),a("h4",{staticClass:"email-subject mb-0"},[e._v(" "+e._s(e.emailViewData.subject)+" ")])]),a("div",{staticClass:"email-header-right ml-2 pl-1"},[a("feather-icon",{staticClass:"cursor-pointer",class:{"text-warning fill-current":e.emailViewData.isStarred},attrs:{icon:"StarIcon",size:"17"},on:{click:function(t){return e.$emit("toggle-email-starred")}}}),a("b-dropdown",{staticClass:"ml-75",attrs:{variant:"link","no-caret":"","toggle-class":"p-0",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("feather-icon",{attrs:{icon:"FolderIcon",size:"17"}})]},proxy:!0}])},[a("b-dropdown-item",{on:{click:function(t){return e.$emit("move-email-to-folder","draft")}}},[a("feather-icon",{attrs:{icon:"Edit2Icon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Draft")])],1),a("b-dropdown-item",{on:{click:function(t){return e.$emit("move-email-to-folder","spam")}}},[a("feather-icon",{attrs:{icon:"InfoIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Spam")])],1),a("b-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"trash"!==e.$route.params.folder,expression:"$route.params.folder !== 'trash'"}],on:{click:function(t){return e.$emit("move-email-to-folder","trash")}}},[a("feather-icon",{attrs:{icon:"TrashIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Trash")])],1)],1),a("b-dropdown",{staticClass:"ml-75",attrs:{variant:"link","no-caret":"","toggle-class":"p-0",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("feather-icon",{staticClass:"align-middle text-body",attrs:{icon:"TagIcon",size:"17"}})]},proxy:!0}])},[a("b-dropdown-item",{on:{click:function(t){return e.$emit("update-email-label","personal")}}},[a("span",{staticClass:"mr-50 bullet bullet-success bullet-sm"}),a("span",[e._v("Personal")])]),a("b-dropdown-item",{on:{click:function(t){return e.$emit("update-email-label","company")}}},[a("span",{staticClass:"mr-50 bullet bullet-primary bullet-sm"}),a("span",[e._v("Company")])]),a("b-dropdown-item",{on:{click:function(t){return e.$emit("update-email-label","important")}}},[a("span",{staticClass:"mr-50 bullet bullet-warning bullet-sm"}),a("span",[e._v("Important")])]),a("b-dropdown-item",{on:{click:function(t){return e.$emit("update-email-label","private")}}},[a("span",{staticClass:"mr-50 bullet bullet-danger bullet-sm"}),a("span",[e._v("Private")])])],1),a("feather-icon",{staticClass:"ml-75 cursor-pointer",attrs:{icon:"MailIcon",size:"17"},on:{click:function(t){return e.$emit("mark-email-unread")}}}),a("feather-icon",{directives:[{name:"show",rawName:"v-show",value:"trash"!==e.$route.params.folder,expression:"$route.params.folder !== 'trash'"}],staticClass:"ml-75",attrs:{icon:"TrashIcon",size:"17"},on:{click:function(t){return e.$emit("move-email-to-folder","trash")}}}),a("feather-icon",{staticClass:"ml-75 cursor-pointer",class:{"text-muted pointer-events-none":!e.opendedEmailMeta.hasPreviousEmail},attrs:{icon:e.$store.state.appConfig.isRTL?"ChevronRightIcon":"ChevronLeftIcon",size:"17"},on:{click:function(t){return e.$emit("change-opened-email","previous")}}}),a("feather-icon",{staticClass:"ml-75 cursor-pointer",class:{"text-muted pointer-events-none":!e.opendedEmailMeta.hasNextEmail},attrs:{icon:e.$store.state.appConfig.isRTL?"ChevronLeftIcon":"ChevronRightIcon",size:"17"},on:{click:function(t){return e.$emit("change-opened-email","next")}}})],1)]),a("vue-perfect-scrollbar",{staticClass:"email-scroll-area scroll-area",attrs:{settings:e.perfectScrollbarSettings}},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("div",{staticClass:"email-label"},e._l(e.emailViewData.labels,(function(t){return a("b-badge",{key:t,staticClass:"text-capitalize mr-50",attrs:{pill:"",variant:"light-"+e.resolveLabelColor(t)}},[e._v(" "+e._s(t)+" ")])})),1)])],1),!e.showWholeThread&&e.emailViewData.replies&&e.emailViewData.replies.length?a("b-row",{staticClass:"mb-1"},[a("b-col",{attrs:{cols:"12"}},[a("b-link",{staticClass:"font-weight-bold",on:{click:function(t){e.showWholeThread=!0}}},[e._v(" View "+e._s(e.emailViewData.replies.length)+" Earlier Message"+e._s(e.emailViewData.replies.length>1?"s":"")+" ")])],1)],1):e._e(),e.showWholeThread?e._l(e.emailViewData.replies.slice().reverse(),(function(e){return a("b-row",{key:e.id},[a("b-col",{attrs:{cols:"12"}},[a("email-message-card",{attrs:{message:e}})],1)],1)})):e._e(),a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("email-message-card",{attrs:{message:e.emailViewData}})],1)],1),a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-card",[a("div",{staticClass:"d-flex justify-content-between"},[a("h5",{staticClass:"mb-0"},[e._v(" Click here to "),a("b-link",[e._v("Reply")]),e._v(" or "),a("b-link",[e._v("Forward")])],1)])])],1)],1)],2)],1)},B=[],L=a("a15b7"),F=a("b28b"),z=a("205f"),R=a("aa59");function P(){var e=function(e){return"personal"===e?"success":"company"===e?"primary":"important"===e?"warning":"private"===e?"danger":"secondary"};return{resolveLabelColor:e}}var V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",{attrs:{"no-body":""}},[e.message.from?a("b-card-header",{staticClass:"email-detail-head"},[a("div",{staticClass:"user-details d-flex justify-content-between align-items-center flex-wrap"},[a("b-avatar",{staticClass:"mr-75",attrs:{size:"48",src:e.message.from.avatar}}),a("div",{staticClass:"mail-items"},[a("h5",{staticClass:"mb-0"},[e._v(" "+e._s(e.message.from.name)+" ")]),a("b-dropdown",{staticClass:"email-info-dropup",attrs:{variant:"link","no-caret":"","toggle-class":"p-0"},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("span",{staticClass:"font-small-3 text-muted mr-25"},[e._v(e._s(e.message.from.email))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",size:"10"}})]},proxy:!0}],null,!1,1431602336)},[a("table",{staticClass:"table table-sm table-borderless font-small-3"},[a("tbody",[a("tr",[a("td",{staticClass:"text-right text-muted align-top"},[e._v(" From: ")]),a("td",[e._v(e._s(e.message.from.email))])]),a("tr",[a("td",{staticClass:"text-right text-muted align-top"},[e._v(" To: ")]),a("td",[e._v(e._s(e.message.to.map((function(e){return e.email})).join(", ")))])]),a("tr",[a("td",{staticClass:"text-right text-muted align-top"},[e._v(" Date: ")]),a("td",[e._v("4:25 AM 13 Jan 2018")])])])])])],1)],1),a("div",{staticClass:"mail-meta-item d-flex align-items-center"},[a("small",{staticClass:"mail-date-time text-muted"},[e._v(e._s(e.formatDate(e.message.time)))]),a("b-dropdown",{attrs:{variant:"link","no-caret":"","toggle-class":"p-0",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("feather-icon",{staticClass:"ml-50 text-body",attrs:{icon:"MoreVerticalIcon",size:"17"}})]},proxy:!0}],null,!1,2528854530)},[a("b-dropdown-item",[a("feather-icon",{attrs:{icon:"CornerUpLeftIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Reply")])],1),a("b-dropdown-item",[a("feather-icon",{attrs:{icon:"CornerUpRightIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Forward")])],1),a("b-dropdown-item",[a("feather-icon",{attrs:{icon:"TrashIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Delete")])],1)],1)],1)]):e._e(),a("b-card-body",{staticClass:"mail-message-wrapper pt-2"},[a("div",{staticClass:"mail-message",domProps:{innerHTML:e._s(e.message.message)}})]),e.message.attachments&&e.message.attachments.length?a("b-card-footer",[a("div",{staticClass:"mail-attachments"},[a("div",{staticClass:"d-flex align-items-center mb-1"},[a("feather-icon",{attrs:{icon:"PaperclipIcon",size:"16"}}),a("h5",{staticClass:"font-weight-bolder text-body mb-0 ml-50"},[e._v(" "+e._s(e.message.attachments.length)+" Attachment"+e._s(e.message.attachments.length>1?"s":"")+" ")])],1),a("div",{staticClass:"d-flex flex-column"},e._l(e.message.attachments,(function(t,i){return a("b-link",{key:i,class:{"mt-75":i},attrs:{href:t.url,target:"_blank"}},[a("b-img",{staticClass:"mr-50",attrs:{src:t.thumbnail,width:"16px"}}),a("span",{staticClass:"text-muted font-weight-bolder align-text-top"},[e._v(e._s(t.fileName))]),a("span",{staticClass:"text-muted font-small-2 ml-25"},[e._v("("+e._s(t.size)+")")])],1)})),1)])]):e._e()],1)},A=[],U=a("b885"),N=a("6197"),Q=a("670f"),H=a("4918"),J={components:{BDropdown:u["a"],BDropdownItem:d["a"],BCard:z["a"],BCardHeader:U["a"],BCardBody:N["a"],BCardFooter:Q["a"],BAvatar:h["a"],BLink:R["a"],BImg:H["a"]},props:{message:{type:Object,required:!0}},setup:function(){return{formatDate:C["c"]}}},G=J,W=Object(q["a"])(G,V,A,!1,null,null,null),X=W.exports,Y={components:{BDropdown:u["a"],BDropdownItem:d["a"],BRow:L["a"],BCol:F["a"],BBadge:O["a"],BCard:z["a"],BLink:R["a"],VuePerfectScrollbar:g.a,EmailMessageCard:X},props:{emailViewData:{type:Object,required:!0},opendedEmailMeta:{type:Object,required:!0}},setup:function(e){var t=P(),a=t.resolveLabelColor,i={maxScrollbarLength:150},l=Object(n["ref"])(!1);return Object(n["watch"])((function(){return e.emailViewData.id}),(function(){l.value=!1})),{perfectScrollbarSettings:i,showWholeThread:l,resolveLabelColor:a}}},K=Y,Z=Object(q["a"])(K,T,B,!1,null,null,null),ee=Z.exports,te=a("7f80"),ae={namespaced:!0,state:{},getters:{},mutations:{},actions:{fetchEmails:function(e,t){return new Promise((function(e,a){te["a"].get("/apps/email/emails",{params:t}).then((function(t){return e(t)})).catch((function(e){return a(e)}))}))},updateEmail:function(e,t){return new Promise((function(e,a){te["a"].post("/apps/email/update-emails",t).then((function(t){return e(t)})).catch((function(e){return a(e)}))}))},updateEmailLabels:function(e,t){return new Promise((function(e,a){te["a"].post("/apps/email/update-emails-label",t).then((function(t){return e(t)})).catch((function(e){return a(e)}))}))},paginateEmail:function(e,t){return new Promise((function(e,a){te["a"].get("/apps/email/paginate-email",{params:t}).then((function(t){return e(t)})).catch((function(e){return a(e)}))}))}}},ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{id:"compose-mail",visible:e.shallShowEmailComposeModal,title:"Compose Email","modal-class":"modal-sticky","footer-class":"d-flex justify-content-between","body-class":"p-0",size:"lg","no-fade":"","hide-backdrop":"",static:""},on:{change:function(t){return e.$emit("update:shall-show-email-compose-modal",t)}},scopedSlots:e._u([{key:"modal-header",fn:function(){return[a("h5",{staticClass:"modal-title"},[e._v(" Compose Mail ")]),a("div",{staticClass:"modal-actions"},[a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"MinusIcon"},on:{click:function(t){return e.$emit("update:shall-show-email-compose-modal",!1)}}}),a("feather-icon",{staticClass:"ml-1 cursor-pointer",attrs:{icon:"Maximize2Icon"}}),a("feather-icon",{staticClass:"ml-1 cursor-pointer",attrs:{icon:"XIcon"},on:{click:e.discardEmail}})],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("b-dropdown",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{split:"",text:"Send",variant:"primary",right:""},on:{click:e.sendEmail}},[a("b-dropdown-item",[e._v(" Schedule Send ")])],1),a("feather-icon",{staticClass:"ml-2 cursor-pointer",attrs:{icon:"PaperclipIcon",size:"17"}})],1),a("div",[a("b-dropdown",{attrs:{variant:"link","no-caret":"","toggle-class":"p-0",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("feather-icon",{staticClass:"text-body",attrs:{icon:"MoreVerticalIcon",size:"17"}})]},proxy:!0}])},[a("b-dropdown-item",[e._v(" Add Label ")]),a("b-dropdown-item",[e._v(" Plain Text Mode ")]),a("b-dropdown-divider"),a("b-dropdown-item",[e._v(" Print ")]),a("b-dropdown-item",[e._v(" Check Spelling ")])],1),a("feather-icon",{staticClass:"ml-75 cursor-pointer",attrs:{icon:"TrashIcon",size:"17"},on:{click:e.discardEmail}})],1)]},proxy:!0}])},[a("b-form",[a("div",{staticClass:"compose-mail-form-field"},[a("label",{staticClass:"form-label",attrs:{for:"email-to"}},[e._v("To: ")]),a("v-select",{staticClass:"flex-grow-1 email-to-selector",attrs:{dir:e.$store.state.appConfig.isRTL?"rtl":"ltr",multiple:"",label:"name","close-on-select":!1,options:e.emailToOptions,"input-id":"email-to"},scopedSlots:e._u([{key:"option",fn:function(t){var i=t.avatar,l=t.name;return[a("b-avatar",{attrs:{size:"sm",src:i}}),a("span",{staticClass:"ml-50"},[e._v(" "+e._s(l))])]}},{key:"selected-option",fn:function(t){var i=t.avatar,l=t.name;return[a("b-avatar",{staticClass:"border border-white",attrs:{size:"sm",src:i}}),a("span",{staticClass:"ml-50"},[e._v(" "+e._s(l))])]}}]),model:{value:e.composeData.to,callback:function(t){e.$set(e.composeData,"to",t)},expression:"composeData.to"}}),a("span",{staticClass:"cursor-pointer",on:{click:function(t){e.showCcField=!e.showCcField}}},[e._v("Cc")]),a("span",{staticClass:"ml-1 cursor-pointer",on:{click:function(t){e.showBccField=!e.showBccField}}},[e._v("Bcc")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCcField,expression:"showCcField"}],staticClass:"compose-mail-form-field"},[a("label",{attrs:{for:"email-cc"}},[e._v("CC: ")]),a("v-select",{staticClass:"flex-grow-1 email-cc-selector",attrs:{dir:e.$store.state.appConfig.isRTL?"rtl":"ltr",multiple:"",label:"name","close-on-select":!1,options:e.emailToOptions,"input-id":"email-cc"},scopedSlots:e._u([{key:"option",fn:function(t){var i=t.avatar,l=t.name;return[a("b-avatar",{attrs:{size:"sm",src:i}}),a("span",{staticClass:"ml-50"},[e._v(" "+e._s(l))])]}},{key:"selected-option",fn:function(t){var i=t.avatar,l=t.name;return[a("b-avatar",{staticClass:"border border-white",attrs:{size:"sm",src:i}}),a("span",{staticClass:"ml-50"},[e._v(" "+e._s(l))])]}}]),model:{value:e.composeData.cc,callback:function(t){e.$set(e.composeData,"cc",t)},expression:"composeData.cc"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showBccField,expression:"showBccField"}],staticClass:"compose-mail-form-field"},[a("label",{attrs:{for:"email-bcc"}},[e._v("Bcc ")]),a("v-select",{staticClass:"flex-grow-1 email-bcc-selector",attrs:{dir:e.$store.state.appConfig.isRTL?"rtl":"ltr",multiple:"",label:"name","close-on-select":!1,options:e.emailToOptions,"input-id":"email-bcc"},scopedSlots:e._u([{key:"option",fn:function(t){var i=t.avatar,l=t.name;return[a("b-avatar",{attrs:{size:"sm",src:i}}),a("span",{staticClass:"ml-50"},[e._v(" "+e._s(l))])]}},{key:"selected-option",fn:function(t){var i=t.avatar,l=t.name;return[a("b-avatar",{staticClass:"border border-white",attrs:{size:"sm",src:i}}),a("span",{staticClass:"ml-50"},[e._v(" "+e._s(l))])]}}]),model:{value:e.composeData.bcc,callback:function(t){e.$set(e.composeData,"bcc",t)},expression:"composeData.bcc"}})],1),a("div",{staticClass:"compose-mail-form-field"},[a("label",{attrs:{for:"email-subject"}},[e._v("Subject: ")]),a("b-form-input",{attrs:{id:"email-subject"},model:{value:e.composeData.subject,callback:function(t){e.$set(e.composeData,"subject",t)},expression:"composeData.subject"}})],1),a("div",{staticClass:"message-editor"},[a("quill-editor",{attrs:{id:"quil-content",options:e.editorOption},model:{value:e.composeData.message,callback:function(t){e.$set(e.composeData,"message",t)},expression:"composeData.message"}}),a("div",{staticClass:"d-flex border-bottom-0",attrs:{id:"quill-toolbar"}},[a("button",{staticClass:"ql-bold"}),a("button",{staticClass:"ql-italic"}),a("button",{staticClass:"ql-underline"}),a("button",{staticClass:"ql-align"}),a("button",{staticClass:"ql-link"})])],1)])],1)},le=[],se=a("11de"),ne=a("f47c"),oe=a("953d"),re=a("4a7a"),ce=a.n(re),ue={directives:{Ripple:j["a"]},components:{BDropdown:u["a"],BDropdownItem:d["a"],BForm:se["a"],BFormInput:o["a"],BAvatar:h["a"],BDropdownDivider:ne["a"],quillEditor:oe["quillEditor"],vSelect:ce.a},model:{prop:"shallShowEmailComposeModal",event:"update:shall-show-email-compose-modal"},props:{shallShowEmailComposeModal:{type:Boolean,required:!0}},setup:function(e,t){var i=t.emit,l=Object(n["ref"])({}),s=Object(n["ref"])(!1),o=Object(n["ref"])(!1),r={modules:{toolbar:"#quill-toolbar"},placeholder:"Message"},c=[{avatar:a("28a5"),name:"Jane Foster"},{avatar:a("a921"),name:"Donna Frank"},{avatar:a("da2a"),name:"Gabrielle Robertson"},{avatar:a("af6d"),name:"Lori Spears"},{avatar:a("f8f8"),name:"Sandy Vega"},{avatar:a("b922"),name:"Cheryl May"}],u=function(){l.value={},i("update:shall-show-email-compose-modal",!1)},d=function(){l.value={},i("update:shall-show-email-compose-modal",!1)};return{composeData:l,editorOption:r,emailToOptions:c,showCcField:s,showBccField:o,sendEmail:u,discardEmail:d}}},de=ue,me=(a("b38e"),a("4f65"),Object(q["a"])(de,ie,le,!1,null,"30f98a42",null)),pe=me.exports,fe={components:{BFormInput:o["a"],BInputGroup:r["a"],BInputGroupPrepend:c["a"],BDropdown:u["a"],BDropdownItem:d["a"],BFormCheckbox:m["a"],BMedia:p["a"],BMediaAside:f["a"],BMediaBody:b["a"],BAvatar:h["a"],VuePerfectScrollbar:g.a,EmailLeftSidebar:$,EmailView:ee,EmailCompose:pe},setup:function(){var e="app-email";s["a"].hasModule(e)||s["a"].registerModule(e,ae),Object(n["onUnmounted"])((function(){s["a"].hasModule(e)&&s["a"].unregisterModule(e)}));var t=Object(w["d"])(),a=t.route,i=t.router,l=P(),o=l.resolveLabelColor,r=Object(n["computed"])((function(){return a.value.params}));Object(n["watch"])(r,(function(){b()}));var c=Object(n["ref"])([]),u=Object(n["ref"])({}),d={maxScrollbarLength:150},m=Object(n["computed"])((function(){return a.value.query.q})),p=Object(n["ref"])(m.value);Object(n["watch"])(m,(function(e){p.value=e})),Object(n["watch"])(p,(function(){return b()}));var f=function(e){var t=JSON.parse(JSON.stringify(a.value.query));e?t.q=e:delete t.q,i.replace({name:a.name,query:t})},b=function(){s["a"].dispatch("app-email/fetchEmails",{q:p.value,folder:i.currentRoute.params.folder||"inbox",label:i.currentRoute.params.label}).then((function(e){c.value=e.data.emails,u.value=e.data.emailsMeta}))};b();var h=Object(n["ref"])([]),v=function(e){var t=h.value.indexOf(e);-1===t?h.value.push(e):h.value.splice(t,1)},g=Object(n["computed"])((function(){return c.value.length&&c.value.length===h.value.length})),S=Object(n["computed"])((function(){return Boolean(h.value.length)&&c.value.length!==h.value.length})),y=function(e){h.value=e?c.value.map((function(e){return e.id})):[]},x=function(e){s["a"].dispatch("app-email/updateEmail",{emailIds:[e.id],dataToUpdate:{isStarred:!e.isStarred}}).then((function(){e.isStarred=!e.isStarred}))},k=function(e){s["a"].dispatch("app-email/updateEmail",{emailIds:h.value,dataToUpdate:{folder:e}}).then((function(){b()})).finally((function(){h.value=[]}))},E=function(e){s["a"].dispatch("app-email/updateEmailLabels",{emailIds:h.value,label:e}).then((function(){b()})).finally((function(){h.value=[]}))},O=function(){s["a"].dispatch("app-email/updateEmail",{emailIds:h.value,dataToUpdate:{isRead:!1}}).then((function(){b()})).finally((function(){h.value=[]}))},j=Object(n["ref"])(!1),I=Object(n["ref"])({}),D=Object(n["computed"])((function(){var e=c.value.findIndex((function(e){return e.id===I.value.id}));return{hasNextEmail:Boolean(c.value[e+1]),hasPreviousEmail:Boolean(c.value[e-1])}})),q=function(e){s["a"].dispatch("app-email/updateEmail",{emailIds:[e.id],dataToUpdate:{isRead:!0}}).then((function(){e.isRead||"inbox"!==e.folder&&"spam"!==e.folder||(u.value[e.folder]-=1),e.isRead=!0})).finally((function(){I.value=e,j.value=!0}))},M=function(e){h.value=[I.value.id],k(e),h.value=[],j.value=!1},$=function(e){h.value=[I.value.id],E(e);var t=I.value.labels.indexOf(e);-1===t?I.value.labels.push(e):I.value.labels.splice(t,1),h.value=[]},T=function(){h.value=[I.value.id],O(),h.value=[],j.value=!1},B=function(e){var t=c.value.findIndex((function(e){return e.id===I.value.id})),a="previous"===e?t-1:t+1;I.value=c.value[a]};Object(n["watch"])(r,(function(){j.value=!1})),Object(n["watch"])([I,r],(function(){h.value=[]}));var L=Object(n["ref"])(!1),F=Object(_["a"])(),z=F.mqShallShowLeftSidebar;return{perfectScrollbarSettings:d,emails:c,emailsMeta:u,selectAllEmailCheckbox:g,isSelectAllEmailCheckboxIndeterminate:S,selectedEmails:h,toggleSelectedMail:v,selectAllCheckboxUpdate:y,toggleStarred:x,moveSelectedEmailsToFolder:k,updateSelectedEmailsLabel:E,markSelectedEmailsAsUnread:O,showEmailDetails:j,emailViewData:I,opendedEmailMeta:D,updateEmailViewData:q,moveOpenEmailToFolder:M,updateOpenEmailLabel:$,markOpenEmailAsUnread:T,changeOpenedEmail:B,searchQuery:p,updateRouteQuery:f,filterTags:C["b"],formatDateToMonthShort:C["d"],resolveLabelColor:o,shallShowEmailComposeModal:L,mqShallShowLeftSidebar:z}}},be=fe,he=(a("3dee"),Object(q["a"])(be,i,l,!1,null,"5ccc7666",null));t["default"]=he.exports},b38e:function(e,t,a){"use strict";a("d3cf")},ca6e:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return u}));var i=a("5530"),l=a("53ca"),s=a("a18c"),n=a("ed09"),o=function(e){return"object"===Object(l["a"])(e)&&null!==e},r=function(e){var t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},c=function(e){var t=s["a"].resolve(e),a=t.route;return a.path===s["a"].currentRoute.path},u=function(){var e=Object(n["getCurrentInstance"])().proxy,t=Object(n["reactive"])({route:e.$route});return Object(n["watch"])((function(){return e.$route}),(function(e){t.route=e})),Object(i["a"])(Object(i["a"])({},Object(n["toRefs"])(t)),{},{router:e.$router})}},d3cf:function(e,t,a){},fa1e:function(e,t,a){}}]);