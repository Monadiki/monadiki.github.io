(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a6726da6"],{"0e20":function(e,t,a){"use strict";a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return c}));var s=a("ca6e");const l=e=>e>999?(e/1e3).toFixed(1)+"k":e,i=(e,t=" ")=>{if(!e)return"";const a=e.toString(),s=a.split(t),l=[];return s.forEach(e=>{const t=e.charAt(0).toUpperCase()+e.slice(1);l.push(t)}),l.join(" ")},o=e=>{if(!e)return"";const t=e.split(" ");return t.map(e=>e.charAt(0).toUpperCase()).join("")},r=(e,t={month:"short",day:"numeric",year:"numeric"})=>e?new Intl.DateTimeFormat("en-US",t).format(new Date(e)):e,n=(e,t=!0)=>{const a=new Date(e);let l={month:"short",day:"numeric"};return t&&Object(s["c"])(a)&&(l={hour:"numeric",minute:"numeric"}),new Intl.DateTimeFormat("en-US",l).format(new Date(e))},c=e=>e.replace(/<\/?[^>]+(>|$)/g,"")},"1bd7":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a("4360"),l=a("ed09");const i=()=>{const e=Object(l["ref"])(!1),t=Object(l["computed"])(()=>s["a"].getters["app/currentBreakPoint"]);return Object(l["watch"])(t,(t,a)=>{"md"===a&&"lg"===t&&(e.value=!1)}),{mqShallShowLeftSidebar:e}}},"3dee":function(e,t,a){"use strict";a("fa1e")},"4f65":function(e,t,a){"use strict";a("5ae4")},"5ae4":function(e,t,a){},a12c:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"inherit"}},[a("div",{staticClass:"body-content-overlay",class:{show:e.mqShallShowLeftSidebar},on:{click:function(t){e.mqShallShowLeftSidebar=!1}}}),a("div",{staticClass:"email-app-list"},[a("div",{staticClass:"app-fixed-search d-flex align-items-center"},[a("div",{staticClass:"sidebar-toggle d-block d-lg-none ml-1"},[a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"MenuIcon",size:"21"},on:{click:function(t){e.mqShallShowLeftSidebar=!0}}})],1),a("div",{staticClass:"d-flex align-content-center justify-content-between w-100"},[a("b-input-group",{staticClass:"input-group-merge"},[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("feather-icon",{staticClass:"text-muted",attrs:{icon:"SearchIcon"}})],1),a("b-form-input",{attrs:{value:e.searchQuery,placeholder:"Search email"},on:{input:e.updateRouteQuery}})],1)],1)]),a("div",{staticClass:"app-action"},[a("div",{staticClass:"action-left"},[a("b-form-checkbox",{attrs:{checked:e.selectAllEmailCheckbox,indeterminate:e.isSelectAllEmailCheckboxIndeterminate},on:{change:e.selectAllCheckboxUpdate}},[e._v(" Select All ")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedEmails.length,expression:"selectedEmails.length"}],staticClass:"align-items-center",class:{"d-flex":e.selectedEmails.length}},[a("b-dropdown",{attrs:{variant:"link","no-caret":"","toggle-class":"p-0",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("feather-icon",{staticClass:"align-middle text-body",attrs:{icon:"FolderIcon",size:"17"}})]},proxy:!0}])},[a("b-dropdown-item",{on:{click:function(t){return e.moveSelectedEmailsToFolder("draft")}}},[a("feather-icon",{attrs:{icon:"Edit2Icon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Draft")])],1),a("b-dropdown-item",{on:{click:function(t){return e.moveSelectedEmailsToFolder("spam")}}},[a("feather-icon",{attrs:{icon:"InfoIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Spam")])],1),a("b-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"trash"!==e.$route.params.folder,expression:"$route.params.folder !== 'trash'"}],on:{click:function(t){return e.moveSelectedEmailsToFolder("trash")}}},[a("feather-icon",{attrs:{icon:"TrashIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Trash")])],1)],1),a("b-dropdown",{staticClass:"ml-1",attrs:{variant:"link","no-caret":"","toggle-class":"p-0",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("feather-icon",{staticClass:"align-middle text-body",attrs:{icon:"TagIcon",size:"17"}})]},proxy:!0}])},[a("b-dropdown-item",{on:{click:function(t){return e.updateSelectedEmailsLabel("personal")}}},[a("span",{staticClass:"mr-50 bullet bullet-success bullet-sm"}),a("span",[e._v("Personal")])]),a("b-dropdown-item",{on:{click:function(t){return e.updateSelectedEmailsLabel("company")}}},[a("span",{staticClass:"mr-50 bullet bullet-primary bullet-sm"}),a("span",[e._v("Company")])]),a("b-dropdown-item",{on:{click:function(t){return e.updateSelectedEmailsLabel("important")}}},[a("span",{staticClass:"mr-50 bullet bullet-warning bullet-sm"}),a("span",[e._v("Important")])]),a("b-dropdown-item",{on:{click:function(t){return e.updateSelectedEmailsLabel("private")}}},[a("span",{staticClass:"mr-50 bullet bullet-danger bullet-sm"}),a("span",[e._v("Private")])])],1),a("feather-icon",{staticClass:"cursor-pointer ml-1",attrs:{icon:"MailIcon",size:"17"},on:{click:e.markSelectedEmailsAsUnread}}),a("feather-icon",{directives:[{name:"show",rawName:"v-show",value:"trash"!==e.$route.params.folder,expression:"$route.params.folder !== 'trash'"}],staticClass:"cursor-pointer ml-1",attrs:{icon:"TrashIcon",size:"17"},on:{click:function(t){return e.moveSelectedEmailsToFolder("trash")}}})],1)]),a("vue-perfect-scrollbar",{staticClass:"email-user-list scroll-area",attrs:{settings:e.perfectScrollbarSettings}},[a("ul",{staticClass:"email-media-list"},e._l(e.emails,(function(t){return a("b-media",{key:t.id,class:{"mail-read":t.isRead},attrs:{tag:"li","no-body":""},on:{click:function(a){return e.updateEmailViewData(t)}}},[a("b-media-aside",{staticClass:"media-left mr-50"},[a("b-avatar",{staticClass:"avatar",attrs:{size:"40",variant:"primary",src:t.from.avatar}}),a("div",{staticClass:"user-action"},[a("b-form-checkbox",{attrs:{checked:e.selectedEmails.includes(t.id)},on:{change:function(a){return e.toggleSelectedMail(t.id)}},nativeOn:{click:function(e){e.stopPropagation()}}}),a("div",{staticClass:"email-favorite"},[a("feather-icon",{class:{"text-warning fill-current":t.isStarred},attrs:{icon:"StarIcon",size:"17"},on:{click:function(a){return a.stopPropagation(),e.toggleStarred(t)}}})],1)],1)],1),a("b-media-body",[a("div",{staticClass:"mail-details"},[a("div",{staticClass:"mail-items"},[a("h5",{staticClass:"mb-25"},[e._v(" "+e._s(t.from.name)+" ")]),a("span",{staticClass:"text-truncate"},[e._v(e._s(t.subject))])]),a("div",{staticClass:"mail-meta-item"},[t.attachments.length?a("feather-icon",{attrs:{icon:"PaperclipIcon"}}):e._e(),e._l(t.labels,(function(t){return a("span",{key:t,staticClass:"mx-50 bullet bullet-sm",class:"bullet-"+e.resolveLabelColor(t)})})),a("span",{staticClass:"mail-date"},[e._v(e._s(e.formatDateToMonthShort(t.time,{hour:"numeric",minute:"numeric"})))])],2)]),a("div",{staticClass:"mail-message"},[a("p",{staticClass:"text-truncate mb-0"},[e._v(" "+e._s(e.filterTags(t.message))+" ")])])])],1)})),1),a("div",{staticClass:"no-results",class:{show:!e.emails.length}},[a("h5",[e._v("No Items Found")])])])],1),a("email-view",{class:{show:e.showEmailDetails},attrs:{"email-view-data":e.emailViewData,"opended-email-meta":e.opendedEmailMeta},on:{"close-email-view":function(t){e.showEmailDetails=!1},"move-email-to-folder":e.moveOpenEmailToFolder,"toggle-email-starred":function(t){return e.toggleStarred(e.emailViewData)},"update-email-label":e.updateOpenEmailLabel,"mark-email-unread":e.markOpenEmailAsUnread,"change-opened-email":e.changeOpenedEmail}}),a("portal",{attrs:{to:"content-renderer-sidebar-left"}},[a("email-left-sidebar",{class:{show:e.mqShallShowLeftSidebar},attrs:{"shall-show-email-compose-modal":e.shallShowEmailComposeModal,"emails-meta":e.emailsMeta},on:{"update:shallShowEmailComposeModal":function(t){e.shallShowEmailComposeModal=t},"update:shall-show-email-compose-modal":function(t){e.shallShowEmailComposeModal=t},"close-left-sidebar":function(t){e.mqShallShowLeftSidebar=!1}}})],1),a("email-compose",{model:{value:e.shallShowEmailComposeModal,callback:function(t){e.shallShowEmailComposeModal=t},expression:"shallShowEmailComposeModal"}})],1)},l=[],i=a("4360"),o=a("ed09"),r=a("4797"),n=a("5e12"),c=a("3656"),m=a("dd9a"),d=a("9eaa"),u=a("c3e6"),p=a("34b6"),b=a("7c32"),f=a("7fa6"),h=a("e8a3"),v=a("9d63"),g=a.n(v),C=a("0e20"),w=a("ca6e"),_=a("1bd7"),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar-left"},[a("div",{staticClass:"sidebar"},[a("div",{staticClass:"sidebar-content email-app-sidebar"},[a("div",{staticClass:"email-app-menu"},[a("div",{staticClass:"form-group-compose text-center compose-btn"},[a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{variant:"primary",block:""},on:{click:function(t){e.$emit("update:shall-show-email-compose-modal",!0),e.$emit("close-left-sidebar")}}},[e._v(" Compose ")])],1),a("vue-perfect-scrollbar",{staticClass:"sidebar-menu-list scroll-area",attrs:{settings:e.perfectScrollbarSettings}},[a("b-list-group",{staticClass:"list-group-messages"},e._l(e.emailFilters,(function(t){return a("b-list-group-item",{key:t.title+e.$route.path,attrs:{to:t.route,active:e.isDynamicRouteActive(t.route)},on:{click:function(t){return e.$emit("close-left-sidebar")}}},[a("feather-icon",{staticClass:"mr-75",attrs:{icon:t.icon,size:"18"}}),a("span",{staticClass:"align-text-bottom line-height-1"},[e._v(e._s(t.title))]),e.emailsMeta[t.title.toLowerCase()]?a("b-badge",{staticClass:"float-right",attrs:{pill:"",variant:e.resolveFilterBadgeColor(t.title)}},[e._v(" "+e._s(e.emailsMeta[t.title.toLowerCase()])+" ")]):e._e()],1)})),1),a("h6",{staticClass:"section-label mt-3 mb-1 px-2"},[e._v(" Labels ")]),a("b-list-group",{staticClass:"list-group-labels"},e._l(e.emailLabel,(function(t){return a("b-list-group-item",{key:t.title+e.$route.path,attrs:{to:t.route,active:e.isDynamicRouteActive(t.route)},on:{click:function(t){return e.$emit("close-left-sidebar")}}},[a("span",{staticClass:"bullet bullet-sm mr-1",class:"bullet-"+t.color}),a("span",[e._v(e._s(t.title))])])})),1)],1)],1)])])])},k=[],x=a("1947"),y=a("3135"),E=a("d247"),I=a("e98b"),D=a("e009"),O={directives:{Ripple:D["a"]},components:{BButton:x["a"],BListGroup:y["a"],BListGroupItem:E["a"],BBadge:I["a"],VuePerfectScrollbar:g.a},props:{shallShowEmailComposeModal:{type:Boolean,required:!0},emailsMeta:{type:Object,required:!0}},setup(){const e={maxScrollbarLength:60},t=[{title:"Inbox",icon:"MailIcon",route:{name:"apps-email"}},{title:"Sent",icon:"SendIcon",route:{name:"apps-email-folder",params:{folder:"sent"}}},{title:"Draft",icon:"Edit2Icon",route:{name:"apps-email-folder",params:{folder:"draft"}}},{title:"Starred",icon:"StarIcon",route:{name:"apps-email-folder",params:{folder:"starred"}}},{title:"Spam",icon:"InfoIcon",route:{name:"apps-email-folder",params:{folder:"spam"}}},{title:"Trash",icon:"TrashIcon",route:{name:"apps-email-folder",params:{folder:"trash"}}}],a=[{title:"Personal",color:"success",route:{name:"apps-email-label",params:{label:"personal"}}},{title:"Company",color:"primary",route:{name:"apps-email-label",params:{label:"company"}}},{title:"Important",color:"warning",route:{name:"apps-email-label",params:{label:"important"}}},{title:"Private",color:"danger",route:{name:"apps-email-label",params:{label:"private"}}}],s=e=>"Draft"===e?"light-warning":"Spam"===e?"light-danger":"light-primary";return{perfectScrollbarSettings:e,isDynamicRouteActive:w["a"],resolveFilterBadgeColor:s,emailFilters:t,emailLabel:a}}},j=O,B=a("2877"),M=Object(B["a"])(j,S,k,!1,null,null,null),L=M.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"email-app-details"},[a("div",{staticClass:"email-detail-header"},[a("div",{staticClass:"email-header-left d-flex align-items-center"},[a("span",{staticClass:"go-back mr-1"},[a("feather-icon",{staticClass:"align-bottom",attrs:{icon:e.$store.state.appConfig.isRTL?"ChevronRightIcon":"ChevronLeftIcon",size:"20"},on:{click:function(t){return e.$emit("close-email-view")}}})],1),a("h4",{staticClass:"email-subject mb-0"},[e._v(" "+e._s(e.emailViewData.subject)+" ")])]),a("div",{staticClass:"email-header-right ml-2 pl-1"},[a("feather-icon",{staticClass:"cursor-pointer",class:{"text-warning fill-current":e.emailViewData.isStarred},attrs:{icon:"StarIcon",size:"17"},on:{click:function(t){return e.$emit("toggle-email-starred")}}}),a("b-dropdown",{staticClass:"ml-75",attrs:{variant:"link","no-caret":"","toggle-class":"p-0",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("feather-icon",{attrs:{icon:"FolderIcon",size:"17"}})]},proxy:!0}])},[a("b-dropdown-item",{on:{click:function(t){return e.$emit("move-email-to-folder","draft")}}},[a("feather-icon",{attrs:{icon:"Edit2Icon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Draft")])],1),a("b-dropdown-item",{on:{click:function(t){return e.$emit("move-email-to-folder","spam")}}},[a("feather-icon",{attrs:{icon:"InfoIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Spam")])],1),a("b-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"trash"!==e.$route.params.folder,expression:"$route.params.folder !== 'trash'"}],on:{click:function(t){return e.$emit("move-email-to-folder","trash")}}},[a("feather-icon",{attrs:{icon:"TrashIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Trash")])],1)],1),a("b-dropdown",{staticClass:"ml-75",attrs:{variant:"link","no-caret":"","toggle-class":"p-0",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("feather-icon",{staticClass:"align-middle text-body",attrs:{icon:"TagIcon",size:"17"}})]},proxy:!0}])},[a("b-dropdown-item",{on:{click:function(t){return e.$emit("update-email-label","personal")}}},[a("span",{staticClass:"mr-50 bullet bullet-success bullet-sm"}),a("span",[e._v("Personal")])]),a("b-dropdown-item",{on:{click:function(t){return e.$emit("update-email-label","company")}}},[a("span",{staticClass:"mr-50 bullet bullet-primary bullet-sm"}),a("span",[e._v("Company")])]),a("b-dropdown-item",{on:{click:function(t){return e.$emit("update-email-label","important")}}},[a("span",{staticClass:"mr-50 bullet bullet-warning bullet-sm"}),a("span",[e._v("Important")])]),a("b-dropdown-item",{on:{click:function(t){return e.$emit("update-email-label","private")}}},[a("span",{staticClass:"mr-50 bullet bullet-danger bullet-sm"}),a("span",[e._v("Private")])])],1),a("feather-icon",{staticClass:"ml-75 cursor-pointer",attrs:{icon:"MailIcon",size:"17"},on:{click:function(t){return e.$emit("mark-email-unread")}}}),a("feather-icon",{directives:[{name:"show",rawName:"v-show",value:"trash"!==e.$route.params.folder,expression:"$route.params.folder !== 'trash'"}],staticClass:"ml-75",attrs:{icon:"TrashIcon",size:"17"},on:{click:function(t){return e.$emit("move-email-to-folder","trash")}}}),a("feather-icon",{staticClass:"ml-75 cursor-pointer",class:{"text-muted pointer-events-none":!e.opendedEmailMeta.hasPreviousEmail},attrs:{icon:e.$store.state.appConfig.isRTL?"ChevronRightIcon":"ChevronLeftIcon",size:"17"},on:{click:function(t){return e.$emit("change-opened-email","previous")}}}),a("feather-icon",{staticClass:"ml-75 cursor-pointer",class:{"text-muted pointer-events-none":!e.opendedEmailMeta.hasNextEmail},attrs:{icon:e.$store.state.appConfig.isRTL?"ChevronLeftIcon":"ChevronRightIcon",size:"17"},on:{click:function(t){return e.$emit("change-opened-email","next")}}})],1)]),a("vue-perfect-scrollbar",{staticClass:"email-scroll-area scroll-area",attrs:{settings:e.perfectScrollbarSettings}},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("div",{staticClass:"email-label"},e._l(e.emailViewData.labels,(function(t){return a("b-badge",{key:t,staticClass:"text-capitalize mr-50",attrs:{pill:"",variant:"light-"+e.resolveLabelColor(t)}},[e._v(" "+e._s(t)+" ")])})),1)])],1),!e.showWholeThread&&e.emailViewData.replies&&e.emailViewData.replies.length?a("b-row",{staticClass:"mb-1"},[a("b-col",{attrs:{cols:"12"}},[a("b-link",{staticClass:"font-weight-bold",on:{click:function(t){e.showWholeThread=!0}}},[e._v(" View "+e._s(e.emailViewData.replies.length)+" Earlier Message"+e._s(e.emailViewData.replies.length>1?"s":"")+" ")])],1)],1):e._e(),e.showWholeThread?e._l(e.emailViewData.replies.slice().reverse(),(function(e){return a("b-row",{key:e.id},[a("b-col",{attrs:{cols:"12"}},[a("email-message-card",{attrs:{message:e}})],1)],1)})):e._e(),a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("email-message-card",{attrs:{message:e.emailViewData}})],1)],1),a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-card",[a("div",{staticClass:"d-flex justify-content-between"},[a("h5",{staticClass:"mb-0"},[e._v(" Click here to "),a("b-link",[e._v("Reply")]),e._v(" or "),a("b-link",[e._v("Forward")])],1)])])],1)],1)],2)],1)},T=[],F=a("a15b"),z=a("b28b"),q=a("205f"),R=a("aa59");function P(){const e=e=>"personal"===e?"success":"company"===e?"primary":"important"===e?"warning":"private"===e?"danger":"secondary";return{resolveLabelColor:e}}var V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",{attrs:{"no-body":""}},[e.message.from?a("b-card-header",{staticClass:"email-detail-head"},[a("div",{staticClass:"user-details d-flex justify-content-between align-items-center flex-wrap"},[a("b-avatar",{staticClass:"mr-75",attrs:{size:"48",src:e.message.from.avatar}}),a("div",{staticClass:"mail-items"},[a("h5",{staticClass:"mb-0"},[e._v(" "+e._s(e.message.from.name)+" ")]),a("b-dropdown",{staticClass:"email-info-dropup",attrs:{variant:"link","no-caret":"","toggle-class":"p-0"},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("span",{staticClass:"font-small-3 text-muted mr-25"},[e._v(e._s(e.message.from.email))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",size:"10"}})]},proxy:!0}],null,!1,1431602336)},[a("table",{staticClass:"table table-sm table-borderless font-small-3"},[a("tbody",[a("tr",[a("td",{staticClass:"text-right text-muted align-top"},[e._v(" From: ")]),a("td",[e._v(e._s(e.message.from.email))])]),a("tr",[a("td",{staticClass:"text-right text-muted align-top"},[e._v(" To: ")]),a("td",[e._v(e._s(e.message.to.map((function(e){return e.email})).join(", ")))])]),a("tr",[a("td",{staticClass:"text-right text-muted align-top"},[e._v(" Date: ")]),a("td",[e._v("4:25 AM 13 Jan 2018")])])])])])],1)],1),a("div",{staticClass:"mail-meta-item d-flex align-items-center"},[a("small",{staticClass:"mail-date-time text-muted"},[e._v(e._s(e.formatDate(e.message.time)))]),a("b-dropdown",{attrs:{variant:"link","no-caret":"","toggle-class":"p-0",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("feather-icon",{staticClass:"ml-50 text-body",attrs:{icon:"MoreVerticalIcon",size:"17"}})]},proxy:!0}],null,!1,2528854530)},[a("b-dropdown-item",[a("feather-icon",{attrs:{icon:"CornerUpLeftIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Reply")])],1),a("b-dropdown-item",[a("feather-icon",{attrs:{icon:"CornerUpRightIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Forward")])],1),a("b-dropdown-item",[a("feather-icon",{attrs:{icon:"TrashIcon"}}),a("span",{staticClass:"align-middle ml-50"},[e._v("Delete")])],1)],1)],1)]):e._e(),a("b-card-body",{staticClass:"mail-message-wrapper pt-2"},[a("div",{staticClass:"mail-message",domProps:{innerHTML:e._s(e.message.message)}})]),e.message.attachments&&e.message.attachments.length?a("b-card-footer",[a("div",{staticClass:"mail-attachments"},[a("div",{staticClass:"d-flex align-items-center mb-1"},[a("feather-icon",{attrs:{icon:"PaperclipIcon",size:"16"}}),a("h5",{staticClass:"font-weight-bolder text-body mb-0 ml-50"},[e._v(" "+e._s(e.message.attachments.length)+" Attachment"+e._s(e.message.attachments.length>1?"s":"")+" ")])],1),a("div",{staticClass:"d-flex flex-column"},e._l(e.message.attachments,(function(t,s){return a("b-link",{key:s,class:{"mt-75":s},attrs:{href:t.url,target:"_blank"}},[a("b-img",{staticClass:"mr-50",attrs:{src:t.thumbnail,width:"16px"}}),a("span",{staticClass:"text-muted font-weight-bolder align-text-top"},[e._v(e._s(t.fileName))]),a("span",{staticClass:"text-muted font-small-2 ml-25"},[e._v("("+e._s(t.size)+")")])],1)})),1)])]):e._e()],1)},A=[],U=a("b885"),N=a("6197"),J=a("670f"),G=a("4918"),Q={components:{BDropdown:m["a"],BDropdownItem:d["a"],BCard:q["a"],BCardHeader:U["a"],BCardBody:N["a"],BCardFooter:J["a"],BAvatar:h["a"],BLink:R["a"],BImg:G["a"]},props:{message:{type:Object,required:!0}},setup(){return{formatDate:C["c"]}}},W=Q,H=Object(B["a"])(W,V,A,!1,null,null,null),Y=H.exports,X={components:{BDropdown:m["a"],BDropdownItem:d["a"],BRow:F["a"],BCol:z["a"],BBadge:I["a"],BCard:q["a"],BLink:R["a"],VuePerfectScrollbar:g.a,EmailMessageCard:Y},props:{emailViewData:{type:Object,required:!0},opendedEmailMeta:{type:Object,required:!0}},setup(e){const{resolveLabelColor:t}=P(),a={maxScrollbarLength:150},s=Object(o["ref"])(!1);return Object(o["watch"])(()=>e.emailViewData.id,()=>{s.value=!1}),{perfectScrollbarSettings:a,showWholeThread:s,resolveLabelColor:t}}},K=X,Z=Object(B["a"])(K,$,T,!1,null,null,null),ee=Z.exports,te=a("7f80"),ae={namespaced:!0,state:{},getters:{},mutations:{},actions:{fetchEmails(e,t){return new Promise((e,a)=>{te["a"].get("/apps/email/emails",{params:t}).then(t=>e(t)).catch(e=>a(e))})},updateEmail(e,t){return new Promise((e,a)=>{te["a"].post("/apps/email/update-emails",t).then(t=>e(t)).catch(e=>a(e))})},updateEmailLabels(e,t){return new Promise((e,a)=>{te["a"].post("/apps/email/update-emails-label",t).then(t=>e(t)).catch(e=>a(e))})},paginateEmail(e,t){return new Promise((e,a)=>{te["a"].get("/apps/email/paginate-email",{params:t}).then(t=>e(t)).catch(e=>a(e))})}}},se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{id:"compose-mail",visible:e.shallShowEmailComposeModal,title:"Compose Email","modal-class":"modal-sticky","footer-class":"d-flex justify-content-between","body-class":"p-0",size:"lg","no-fade":"","hide-backdrop":"",static:""},on:{change:function(t){return e.$emit("update:shall-show-email-compose-modal",t)}},scopedSlots:e._u([{key:"modal-header",fn:function(){return[a("h5",{staticClass:"modal-title"},[e._v(" Compose Mail ")]),a("div",{staticClass:"modal-actions"},[a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"MinusIcon"},on:{click:function(t){return e.$emit("update:shall-show-email-compose-modal",!1)}}}),a("feather-icon",{staticClass:"ml-1 cursor-pointer",attrs:{icon:"Maximize2Icon"}}),a("feather-icon",{staticClass:"ml-1 cursor-pointer",attrs:{icon:"XIcon"},on:{click:e.discardEmail}})],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("b-dropdown",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{split:"",text:"Send",variant:"primary",right:""},on:{click:e.sendEmail}},[a("b-dropdown-item",[e._v(" Schedule Send ")])],1),a("feather-icon",{staticClass:"ml-2 cursor-pointer",attrs:{icon:"PaperclipIcon",size:"17"}})],1),a("div",[a("b-dropdown",{attrs:{variant:"link","no-caret":"","toggle-class":"p-0",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("feather-icon",{staticClass:"text-body",attrs:{icon:"MoreVerticalIcon",size:"17"}})]},proxy:!0}])},[a("b-dropdown-item",[e._v(" Add Label ")]),a("b-dropdown-item",[e._v(" Plain Text Mode ")]),a("b-dropdown-divider"),a("b-dropdown-item",[e._v(" Print ")]),a("b-dropdown-item",[e._v(" Check Spelling ")])],1),a("feather-icon",{staticClass:"ml-75 cursor-pointer",attrs:{icon:"TrashIcon",size:"17"},on:{click:e.discardEmail}})],1)]},proxy:!0}])},[a("b-form",[a("div",{staticClass:"compose-mail-form-field"},[a("label",{staticClass:"form-label",attrs:{for:"email-to"}},[e._v("To: ")]),a("v-select",{staticClass:"flex-grow-1 email-to-selector",attrs:{dir:e.$store.state.appConfig.isRTL?"rtl":"ltr",multiple:"",label:"name","close-on-select":!1,options:e.emailToOptions,"input-id":"email-to"},scopedSlots:e._u([{key:"option",fn:function(t){var s=t.avatar,l=t.name;return[a("b-avatar",{attrs:{size:"sm",src:s}}),a("span",{staticClass:"ml-50"},[e._v(" "+e._s(l))])]}},{key:"selected-option",fn:function(t){var s=t.avatar,l=t.name;return[a("b-avatar",{staticClass:"border border-white",attrs:{size:"sm",src:s}}),a("span",{staticClass:"ml-50"},[e._v(" "+e._s(l))])]}}]),model:{value:e.composeData.to,callback:function(t){e.$set(e.composeData,"to",t)},expression:"composeData.to"}}),a("span",{staticClass:"cursor-pointer",on:{click:function(t){e.showCcField=!e.showCcField}}},[e._v("Cc")]),a("span",{staticClass:"ml-1 cursor-pointer",on:{click:function(t){e.showBccField=!e.showBccField}}},[e._v("Bcc")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCcField,expression:"showCcField"}],staticClass:"compose-mail-form-field"},[a("label",{attrs:{for:"email-cc"}},[e._v("CC: ")]),a("v-select",{staticClass:"flex-grow-1 email-cc-selector",attrs:{dir:e.$store.state.appConfig.isRTL?"rtl":"ltr",multiple:"",label:"name","close-on-select":!1,options:e.emailToOptions,"input-id":"email-cc"},scopedSlots:e._u([{key:"option",fn:function(t){var s=t.avatar,l=t.name;return[a("b-avatar",{attrs:{size:"sm",src:s}}),a("span",{staticClass:"ml-50"},[e._v(" "+e._s(l))])]}},{key:"selected-option",fn:function(t){var s=t.avatar,l=t.name;return[a("b-avatar",{staticClass:"border border-white",attrs:{size:"sm",src:s}}),a("span",{staticClass:"ml-50"},[e._v(" "+e._s(l))])]}}]),model:{value:e.composeData.cc,callback:function(t){e.$set(e.composeData,"cc",t)},expression:"composeData.cc"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showBccField,expression:"showBccField"}],staticClass:"compose-mail-form-field"},[a("label",{attrs:{for:"email-bcc"}},[e._v("Bcc ")]),a("v-select",{staticClass:"flex-grow-1 email-bcc-selector",attrs:{dir:e.$store.state.appConfig.isRTL?"rtl":"ltr",multiple:"",label:"name","close-on-select":!1,options:e.emailToOptions,"input-id":"email-bcc"},scopedSlots:e._u([{key:"option",fn:function(t){var s=t.avatar,l=t.name;return[a("b-avatar",{attrs:{size:"sm",src:s}}),a("span",{staticClass:"ml-50"},[e._v(" "+e._s(l))])]}},{key:"selected-option",fn:function(t){var s=t.avatar,l=t.name;return[a("b-avatar",{staticClass:"border border-white",attrs:{size:"sm",src:s}}),a("span",{staticClass:"ml-50"},[e._v(" "+e._s(l))])]}}]),model:{value:e.composeData.bcc,callback:function(t){e.$set(e.composeData,"bcc",t)},expression:"composeData.bcc"}})],1),a("div",{staticClass:"compose-mail-form-field"},[a("label",{attrs:{for:"email-subject"}},[e._v("Subject: ")]),a("b-form-input",{attrs:{id:"email-subject"},model:{value:e.composeData.subject,callback:function(t){e.$set(e.composeData,"subject",t)},expression:"composeData.subject"}})],1),a("div",{staticClass:"message-editor"},[a("quill-editor",{attrs:{id:"quil-content",options:e.editorOption},model:{value:e.composeData.message,callback:function(t){e.$set(e.composeData,"message",t)},expression:"composeData.message"}}),a("div",{staticClass:"d-flex border-bottom-0",attrs:{id:"quill-toolbar"}},[a("button",{staticClass:"ql-bold"}),a("button",{staticClass:"ql-italic"}),a("button",{staticClass:"ql-underline"}),a("button",{staticClass:"ql-align"}),a("button",{staticClass:"ql-link"})])],1)])],1)},le=[],ie=a("11de"),oe=a("f47c"),re=a("953d"),ne=a("4a7a"),ce=a.n(ne),me={directives:{Ripple:D["a"]},components:{BDropdown:m["a"],BDropdownItem:d["a"],BForm:ie["a"],BFormInput:r["a"],BAvatar:h["a"],BDropdownDivider:oe["a"],quillEditor:re["quillEditor"],vSelect:ce.a},model:{prop:"shallShowEmailComposeModal",event:"update:shall-show-email-compose-modal"},props:{shallShowEmailComposeModal:{type:Boolean,required:!0}},setup(e,{emit:t}){const s=Object(o["ref"])({}),l=Object(o["ref"])(!1),i=Object(o["ref"])(!1),r={modules:{toolbar:"#quill-toolbar"},placeholder:"Message"},n=[{avatar:a("28a5"),name:"Jane Foster"},{avatar:a("a921"),name:"Donna Frank"},{avatar:a("da2a"),name:"Gabrielle Robertson"},{avatar:a("af6d"),name:"Lori Spears"},{avatar:a("f8f8"),name:"Sandy Vega"},{avatar:a("b922"),name:"Cheryl May"}],c=()=>{s.value={},t("update:shall-show-email-compose-modal",!1)},m=()=>{s.value={},t("update:shall-show-email-compose-modal",!1)};return{composeData:s,editorOption:r,emailToOptions:n,showCcField:l,showBccField:i,sendEmail:c,discardEmail:m}}},de=me,ue=(a("b38e"),a("4f65"),Object(B["a"])(de,se,le,!1,null,"30f98a42",null)),pe=ue.exports,be={components:{BFormInput:r["a"],BInputGroup:n["a"],BInputGroupPrepend:c["a"],BDropdown:m["a"],BDropdownItem:d["a"],BFormCheckbox:u["a"],BMedia:p["a"],BMediaAside:b["a"],BMediaBody:f["a"],BAvatar:h["a"],VuePerfectScrollbar:g.a,EmailLeftSidebar:L,EmailView:ee,EmailCompose:pe},setup(){const e="app-email";i["a"].hasModule(e)||i["a"].registerModule(e,ae),Object(o["onUnmounted"])(()=>{i["a"].hasModule(e)&&i["a"].unregisterModule(e)});const{route:t,router:a}=Object(w["d"])(),{resolveLabelColor:s}=P(),l=Object(o["computed"])(()=>t.value.params);Object(o["watch"])(l,()=>{p()});const r=Object(o["ref"])([]),n=Object(o["ref"])({}),c={maxScrollbarLength:150},m=Object(o["computed"])(()=>t.value.query.q),d=Object(o["ref"])(m.value);Object(o["watch"])(m,e=>{d.value=e}),Object(o["watch"])(d,()=>p());const u=e=>{const s=JSON.parse(JSON.stringify(t.value.query));e?s.q=e:delete s.q,a.replace({name:t.name,query:s})},p=()=>{i["a"].dispatch("app-email/fetchEmails",{q:d.value,folder:a.currentRoute.params.folder||"inbox",label:a.currentRoute.params.label}).then(e=>{r.value=e.data.emails,n.value=e.data.emailsMeta})};p();const b=Object(o["ref"])([]),f=e=>{const t=b.value.indexOf(e);-1===t?b.value.push(e):b.value.splice(t,1)},h=Object(o["computed"])(()=>r.value.length&&r.value.length===b.value.length),v=Object(o["computed"])(()=>Boolean(b.value.length)&&r.value.length!==b.value.length),g=e=>{b.value=e?r.value.map(e=>e.id):[]},S=e=>{i["a"].dispatch("app-email/updateEmail",{emailIds:[e.id],dataToUpdate:{isStarred:!e.isStarred}}).then(()=>{e.isStarred=!e.isStarred})},k=e=>{i["a"].dispatch("app-email/updateEmail",{emailIds:b.value,dataToUpdate:{folder:e}}).then(()=>{p()}).finally(()=>{b.value=[]})},x=e=>{i["a"].dispatch("app-email/updateEmailLabels",{emailIds:b.value,label:e}).then(()=>{p()}).finally(()=>{b.value=[]})},y=()=>{i["a"].dispatch("app-email/updateEmail",{emailIds:b.value,dataToUpdate:{isRead:!1}}).then(()=>{p()}).finally(()=>{b.value=[]})},E=Object(o["ref"])(!1),I=Object(o["ref"])({}),D=Object(o["computed"])(()=>{const e=r.value.findIndex(e=>e.id===I.value.id);return{hasNextEmail:Boolean(r.value[e+1]),hasPreviousEmail:Boolean(r.value[e-1])}}),O=e=>{i["a"].dispatch("app-email/updateEmail",{emailIds:[e.id],dataToUpdate:{isRead:!0}}).then(()=>{e.isRead||"inbox"!==e.folder&&"spam"!==e.folder||(n.value[e.folder]-=1),e.isRead=!0}).finally(()=>{I.value=e,E.value=!0})},j=e=>{b.value=[I.value.id],k(e),b.value=[],E.value=!1},B=e=>{b.value=[I.value.id],x(e);const t=I.value.labels.indexOf(e);-1===t?I.value.labels.push(e):I.value.labels.splice(t,1),b.value=[]},M=()=>{b.value=[I.value.id],y(),b.value=[],E.value=!1},L=e=>{const t=r.value.findIndex(e=>e.id===I.value.id),a="previous"===e?t-1:t+1;I.value=r.value[a]};Object(o["watch"])(l,()=>{E.value=!1}),Object(o["watch"])([I,l],()=>{b.value=[]});const $=Object(o["ref"])(!1),{mqShallShowLeftSidebar:T}=Object(_["a"])();return{perfectScrollbarSettings:c,emails:r,emailsMeta:n,selectAllEmailCheckbox:h,isSelectAllEmailCheckboxIndeterminate:v,selectedEmails:b,toggleSelectedMail:f,selectAllCheckboxUpdate:g,toggleStarred:S,moveSelectedEmailsToFolder:k,updateSelectedEmailsLabel:x,markSelectedEmailsAsUnread:y,showEmailDetails:E,emailViewData:I,opendedEmailMeta:D,updateEmailViewData:O,moveOpenEmailToFolder:j,updateOpenEmailLabel:B,markOpenEmailAsUnread:M,changeOpenedEmail:L,searchQuery:d,updateRouteQuery:u,filterTags:C["b"],formatDateToMonthShort:C["d"],resolveLabelColor:s,shallShowEmailComposeModal:$,mqShallShowLeftSidebar:T}}},fe=be,he=(a("3dee"),Object(B["a"])(fe,s,l,!1,null,"5ccc7666",null));t["default"]=he.exports},b38e:function(e,t,a){"use strict";a("d3cf")},ca6e:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return n}));var s=a("a18c"),l=a("ed09");const i=e=>"object"===typeof e&&null!==e,o=e=>{const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},r=e=>{const{route:t}=s["a"].resolve(e);return t.path===s["a"].currentRoute.path},n=()=>{const e=Object(l["getCurrentInstance"])().proxy,t=Object(l["reactive"])({route:e.$route});return Object(l["watch"])(()=>e.$route,e=>{t.route=e}),{...Object(l["toRefs"])(t),router:e.$router}}},d3cf:function(e,t,a){},fa1e:function(e,t,a){}}]);