(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5498147e"],{"0bed":function(t,a,e){},"0ddc":function(t,a,e){"use strict";e("b554")},"0e20":function(t,a,e){"use strict";e.d(a,"e",(function(){return r})),e.d(a,"f",(function(){return i})),e.d(a,"a",(function(){return n})),e.d(a,"c",(function(){return c})),e.d(a,"d",(function(){return o})),e.d(a,"b",(function(){return l}));e("b680"),e("d3b7"),e("25f0"),e("ac1f"),e("1276"),e("159b"),e("fb6a"),e("a15b"),e("d81d"),e("5319");var s=e("ca6e"),r=function(t){return t>999?"".concat((t/1e3).toFixed(1),"k"):t},i=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";if(!t)return"";var e=t.toString(),s=e.split(a),r=[];return s.forEach((function(t){var a=t.charAt(0).toUpperCase()+t.slice(1);r.push(a)})),r.join(" ")},n=function(t){if(!t)return"";var a=t.split(" ");return a.map((function(t){return t.charAt(0).toUpperCase()})).join("")},c=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"short",day:"numeric",year:"numeric"};return t?new Intl.DateTimeFormat("en-US",a).format(new Date(t)):t},o=function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=new Date(t),r={month:"short",day:"numeric"};return a&&Object(s["c"])(e)&&(r={hour:"numeric",minute:"numeric"}),new Intl.DateTimeFormat("en-US",r).format(new Date(t))},l=function(t){return t.replace(/<\/?[^>]+(>|$)/g,"")}},"16a3":function(t,a,e){"use strict";e("0bed")},"1bd7":function(t,a,e){"use strict";e.d(a,"a",(function(){return i}));var s=e("4360"),r=e("ed09"),i=function(){var t=Object(r["ref"])(!1),a=Object(r["computed"])((function(){return s["a"].getters["app/currentBreakPoint"]}));return Object(r["watch"])(a,(function(a,e){"md"===e&&"lg"===a&&(t.value=!1)})),{mqShallShowLeftSidebar:t}}},aa5c:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chats"},t._l(t.formattedChatData.formattedChatLog,(function(a,s){return e("div",{key:a.senderId+String(s),staticClass:"chat",class:{"chat-left":a.senderId===t.formattedChatData.contact.id}},[e("div",{staticClass:"chat-avatar"},[e("b-avatar",{staticClass:"avatar-border-2 box-shadow-1",attrs:{size:"36",variant:"transparent",src:a.senderId===t.formattedChatData.contact.id?t.formattedChatData.contact.avatar:t.profileUserAvatar}})],1),e("div",{staticClass:"chat-body"},t._l(a.messages,(function(a){return e("div",{key:a.time,staticClass:"chat-content"},[e("p",[t._v(t._s(a.msg))])])})),0)])})),0)},r=[],i=(e("d3b7"),e("159b"),e("ed09")),n=e("e8a3"),c={components:{BAvatar:n["a"]},props:{chatData:{type:Object,required:!0},profileUserAvatar:{type:String,required:!0}},setup:function(t){var a=Object(i["computed"])((function(){var a={id:t.chatData.contact.id,avatar:t.chatData.contact.avatar},e=[];t.chatData.chat&&(e=t.chatData.chat.chat);var s=[],r=e[0]?e[0].senderId:void 0,i={sender:r,messages:[]};return e.forEach((function(t,a){r===t.senderId?i.messages.push({msg:t.message,time:t.time}):(r=t.senderId,s.push(i),i={senderId:t.senderId,messages:[{msg:t.message,time:t.time}]}),a===e.length-1&&s.push(i)})),{formattedChatLog:s,contact:a,profileUserAvatar:t.profileUserAvatar}}));return{formattedChatData:a}}},o=c,l=e("2877"),u=Object(l["a"])(o,s,r,!1,null,null,null);a["a"]=u.exports},b554:function(t,a,e){},c8ee:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{height:"inherit"}},[e("div",{staticClass:"body-content-overlay",class:{show:t.shallShowUserProfileSidebar||t.shallShowActiveChatContactSidebar||t.mqShallShowLeftSidebar},on:{click:function(a){t.mqShallShowLeftSidebar=t.shallShowActiveChatContactSidebar=t.shallShowUserProfileSidebar=!1}}}),e("section",{staticClass:"chat-app-window"},[t.activeChat.contact?e("div",{staticClass:"active-chat"},[e("div",{staticClass:"chat-navbar"},[e("header",{staticClass:"chat-header"},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"sidebar-toggle d-block d-lg-none mr-1"},[e("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"MenuIcon",size:"21"},on:{click:function(a){t.mqShallShowLeftSidebar=!0}}})],1),e("b-avatar",{staticClass:"mr-1 cursor-pointer badge-minimal",attrs:{size:"36",src:t.activeChat.contact.avatar,badge:"","badge-variant":t.resolveAvatarBadgeVariant(t.activeChat.contact.status)},nativeOn:{click:function(a){t.shallShowActiveChatContactSidebar=!0}}}),e("h6",{staticClass:"mb-0"},[t._v(" "+t._s(t.activeChat.contact.fullName)+" ")])],1),e("div",{staticClass:"d-flex align-items-center"},[e("feather-icon",{staticClass:"cursor-pointer d-sm-block d-none mr-1",attrs:{icon:"PhoneCallIcon",size:"17"}}),e("feather-icon",{staticClass:"cursor-pointer d-sm-block d-none mr-1",attrs:{icon:"VideoIcon",size:"17"}}),e("feather-icon",{staticClass:"cursor-pointer d-sm-block d-none mr-50",attrs:{icon:"SearchIcon",size:"17"}}),e("div",{staticClass:"dropdown"},[e("b-dropdown",{attrs:{variant:"link","no-caret":"","toggle-class":"p-0",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("feather-icon",{staticClass:"align-middle text-body",attrs:{icon:"MoreVerticalIcon",size:"17"}})]},proxy:!0}])},[e("b-dropdown-item",[t._v(" View Contact ")]),e("b-dropdown-item",[t._v(" Mute Notifications ")]),e("b-dropdown-item",[t._v(" Block Contact ")]),e("b-dropdown-item",[t._v(" Clear Chat ")]),e("b-dropdown-item",[t._v(" Report ")])],1)],1)],1)])]),e("vue-perfect-scrollbar",{ref:"refChatLogPS",staticClass:"user-chats scroll-area",attrs:{settings:t.perfectScrollbarSettings}},[e("chat-log",{attrs:{"chat-data":t.activeChat,"profile-user-avatar":t.profileUserDataMinimal.avatar}})],1),e("b-form",{staticClass:"chat-app-form",on:{submit:function(a){return a.preventDefault(),t.sendMessage.apply(null,arguments)}}},[e("b-input-group",{staticClass:"input-group-merge form-send-message mr-1"},[e("b-form-input",{attrs:{placeholder:"Enter your message"},model:{value:t.chatInputMessage,callback:function(a){t.chatInputMessage=a},expression:"chatInputMessage"}})],1),e("b-button",{attrs:{variant:"primary",type:"submit"}},[t._v(" Send ")])],1)],1):e("div",{staticClass:"start-chat-area"},[e("div",{staticClass:"mb-1 start-chat-icon"},[e("feather-icon",{attrs:{icon:"MessageSquareIcon",size:"56"}})],1),e("h4",{staticClass:"sidebar-toggle start-chat-text",on:{click:t.startConversation}},[t._v(" Start Conversation ")])])]),e("chat-active-chat-content-details-sidedbar",{attrs:{"shall-show-active-chat-contact-sidebar":t.shallShowActiveChatContactSidebar,contact:t.activeChat.contact||{}},on:{"update:shallShowActiveChatContactSidebar":function(a){t.shallShowActiveChatContactSidebar=a},"update:shall-show-active-chat-contact-sidebar":function(a){t.shallShowActiveChatContactSidebar=a}}}),e("portal",{attrs:{to:"content-renderer-sidebar-left"}},[e("chat-left-sidebar",{attrs:{"chats-contacts":t.chatsContacts,contacts:t.contacts,"active-chat-contact-id":t.activeChat.contact?t.activeChat.contact.id:null,"shall-show-user-profile-sidebar":t.shallShowUserProfileSidebar,"profile-user-data":t.profileUserData,"profile-user-minimal-data":t.profileUserDataMinimal,"mq-shall-show-left-sidebar":t.mqShallShowLeftSidebar},on:{"update:shallShowUserProfileSidebar":function(a){t.shallShowUserProfileSidebar=a},"update:shall-show-user-profile-sidebar":function(a){t.shallShowUserProfileSidebar=a},"update:mqShallShowLeftSidebar":function(a){t.mqShallShowLeftSidebar=a},"update:mq-shall-show-left-sidebar":function(a){t.mqShallShowLeftSidebar=a},"show-user-profile":t.showUserProfileSidebar,"open-chat":t.openChatOfContact}})],1)],1)},r=[],i=e("5530"),n=(e("7db0"),e("d3b7"),e("4360")),c=e("ed09"),o=e("e8a3"),l=e("dd9a"),u=e("9eaa"),d=e("11de"),h=e("5e12"),f=e("4797"),p=e("1947"),v=e("9d63"),b=e.n(v),m=e("1dff"),C=e("1bd7"),g=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"sidebar-left"},[e("div",{staticClass:"sidebar"},[e("user-profile-sidebar",{attrs:{"shall-show-user-profile-sidebar":t.shallShowUserProfileSidebar,"profile-user-data":t.profileUserData},on:{"close-sidebar":function(a){return t.$emit("update:shall-show-user-profile-sidebar",!1)}}}),e("div",{staticClass:"sidebar-content",class:{show:t.mqShallShowLeftSidebar}},[e("span",{staticClass:"sidebar-close-icon"},[e("feather-icon",{attrs:{icon:"XIcon",size:"16"},on:{click:function(a){return t.$emit("update:mq-shall-show-left-sidebar",!1)}}})],1),e("div",{staticClass:"chat-fixed-search"},[e("div",{staticClass:"d-flex align-items-center w-100"},[e("div",{staticClass:"sidebar-profile-toggle"},[e("b-avatar",{staticClass:"cursor-pointer badge-minimal avatar-border-2",attrs:{size:"42",src:t.profileUserMinimalData.avatar,variant:"transparent",badge:"","badge-variant":"success"},nativeOn:{click:function(a){return t.$emit("show-user-profile")}}})],1),e("b-input-group",{staticClass:"input-group-merge ml-1 w-100 round"},[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("feather-icon",{staticClass:"text-muted",attrs:{icon:"SearchIcon"}})],1),e("b-form-input",{attrs:{placeholder:"Search..."},model:{value:t.searchQuery,callback:function(a){t.searchQuery=a},expression:"searchQuery"}})],1)],1)]),e("vue-perfect-scrollbar",{staticClass:"chat-user-list-wrapper list-group scroll-area",attrs:{settings:t.perfectScrollbarSettings}},[e("h4",{staticClass:"chat-list-title"},[t._v(" Chats ")]),e("ul",{staticClass:"chat-users-list chat-list media-list"},t._l(t.filteredChatsContacts,(function(a){return e("chat-contact",{key:a.id,class:{active:t.activeChatContactId===a.id},attrs:{user:a,tag:"li","is-chat-contact":""},on:{click:function(e){return t.$emit("open-chat",a.id)}}})})),1),e("h4",{staticClass:"chat-list-title"},[t._v(" Contacts ")]),e("ul",{staticClass:"chat-users-list contact-list media-list"},t._l(t.filteredContacts,(function(a){return e("chat-contact",{key:a.id,attrs:{user:a,tag:"li"},on:{click:function(e){return t.$emit("open-chat",a.id)}}})})),1)])],1)],1)])},S=[],w=(e("a9e3"),e("caad"),e("2532"),e("4de4"),e("3656")),_=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(t.tag,t._g({tag:"component"},t.$listeners),[e("b-avatar",{staticClass:"badge-minimal",attrs:{size:"42",src:t.user.avatar,badge:t.isChatContact,"badge-variant":t.resolveAvatarBadgeVariant(t.user.status),variant:"transparent"}}),e("div",{staticClass:"chat-info flex-grow-1"},[e("h5",{staticClass:"mb-0"},[t._v(" "+t._s(t.user.fullName)+" ")]),e("p",{staticClass:"card-text text-truncate"},[t._v(" "+t._s(t.isChatContact?t.user.chat.lastMessage.message:t.user.about)+" ")])]),t.isChatContact?e("div",{staticClass:"chat-meta text-nowrap"},[e("small",{staticClass:"float-right mb-25 chat-time"},[t._v(t._s(t.formatDateToMonthShort(t.user.chat.lastMessage.time,{hour:"numeric",minute:"numeric"})))]),t.user.chat.unseenMsgs?e("b-badge",{staticClass:"float-right",attrs:{pill:"",variant:"primary"}},[t._v(" "+t._s(t.user.chat.unseenMsgs)+" ")]):t._e()],1):t._e()],1)},x=[],y=e("e98b"),D=e("0e20");function I(){var t=function(t){return"online"===t?"success":"busy"===t?"danger":"away"===t?"warning":"secondary"};return{resolveAvatarBadgeVariant:t}}var U={components:{BAvatar:o["a"],BBadge:y["a"]},props:{tag:{type:String,default:"div"},user:{type:Object,required:!0},isChatContact:{type:Boolean,dedfault:!1}},setup:function(){var t=I(),a=t.resolveAvatarBadgeVariant;return{formatDateToMonthShort:D["d"],resolveAvatarBadgeVariant:a}}},O=U,j=e("2877"),A=Object(j["a"])(O,_,x,!1,null,null,null),k=A.exports,B=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chat-profile-sidebar",class:{show:t.shallShowUserProfileSidebar}},[e("header",{staticClass:"chat-profile-header"},[e("span",{staticClass:"close-icon"},[e("feather-icon",{attrs:{icon:"XIcon"},on:{click:function(a){return t.$emit("close-sidebar")}}})],1),e("div",{staticClass:"header-profile-sidebar"},[e("div",{staticClass:"avatar box-shadow-1 avatar-xl avatar-border"},[e("b-avatar",{attrs:{size:"70",src:t.profileUserData.avatar}}),e("span",{staticClass:"avatar-status-xl",class:"avatar-status-"+t.profileUserData.status})],1),e("h4",{staticClass:"chat-user-name"},[t._v(" "+t._s(t.profileUserData.fullName)+" ")]),e("span",{staticClass:"user-post text-capitalize"},[t._v(t._s(t.profileUserData.role))])])]),e("vue-perfect-scrollbar",{staticClass:"profile-sidebar-area scroll-area",attrs:{settings:t.perfectScrollbarSettings}},[e("h6",{staticClass:"section-label mb-1"},[t._v(" About ")]),e("div",{staticClass:"about-user"},[e("b-form-textarea",{attrs:{placeholder:"Something about yourself...",rows:"5"},model:{value:t.profileUserData.about,callback:function(a){t.$set(t.profileUserData,"about",a)},expression:"profileUserData.about"}})],1),e("h6",{staticClass:"section-label mb-1 mt-3"},[t._v(" Status ")]),e("b-form-radio-group",{attrs:{id:"user-status-options",stacked:""},model:{value:t.profileUserData.status,callback:function(a){t.$set(t.profileUserData,"status",a)},expression:"profileUserData.status"}},t._l(t.userStatusOptions,(function(a){return e("b-form-radio",{key:a.value,class:"custom-control-"+a.radioVariant,attrs:{value:a.value}},[t._v(" "+t._s(a.text)+" ")])})),1),e("h6",{staticClass:"section-label mb-1 mt-2"},[t._v(" Settings ")]),t.profileUserData.settings?e("ul",{staticClass:"list-unstyled"},[e("li",{staticClass:"d-flex justify-content-between align-items-center mb-1"},[e("div",{staticClass:"d-flex align-items-center"},[e("feather-icon",{staticClass:"mr-75",attrs:{icon:"CheckSquareIcon",size:"18"}}),e("span",{staticClass:"align-middle"},[t._v("Two-step Verification")])],1),e("b-form-checkbox",{attrs:{switch:""},model:{value:t.profileUserData.settings.isTwoStepAuthVerificationEnabled,callback:function(a){t.$set(t.profileUserData.settings,"isTwoStepAuthVerificationEnabled",a)},expression:"profileUserData.settings.isTwoStepAuthVerificationEnabled"}})],1),e("li",{staticClass:"d-flex justify-content-between align-items-center mb-1"},[e("div",{staticClass:"d-flex align-items-center"},[e("feather-icon",{staticClass:"mr-75",attrs:{icon:"BellIcon",size:"18"}}),e("span",{staticClass:"align-middle"},[t._v("Notification")])],1),e("b-form-checkbox",{attrs:{switch:""},model:{value:t.profileUserData.settings.isNotificationsOn,callback:function(a){t.$set(t.profileUserData.settings,"isNotificationsOn",a)},expression:"profileUserData.settings.isNotificationsOn"}})],1),e("li",{staticClass:"mb-1 d-flex align-items-center cursor-pointer"},[e("feather-icon",{staticClass:"mr-75",attrs:{icon:"UserIcon",size:"18"}}),e("span",{staticClass:"align-middle"},[t._v("Invite Friends")])],1),e("li",{staticClass:"d-flex align-items-center cursor-pointer"},[e("feather-icon",{staticClass:"mr-75",attrs:{icon:"TrashIcon",size:"18"}}),e("span",{staticClass:"align-middle"},[t._v("Delete Account")])],1)]):t._e(),e("div",{staticClass:"mt-3"},[e("b-button",{attrs:{variant:"primary"}},[t._v(" Logout ")])],1)],1)],1)},M=[],P=e("9c7d"),q=e("2924"),z=e("9e14e"),L=e("c3e6"),V={components:{BAvatar:o["a"],BFormTextarea:P["a"],BFormRadioGroup:q["a"],BFormRadio:z["a"],BFormCheckbox:L["a"],BButton:p["a"],VuePerfectScrollbar:b.a},props:{shallShowUserProfileSidebar:{type:Boolean,required:!0},profileUserData:{type:Object,required:!0}},setup:function(){var t={maxScrollbarLength:150},a=[{text:"Active",value:"online",radioVariant:"success"},{text:"Do Not Disturb",value:"busy",radioVariant:"danger"},{text:"Away",value:"away",radioVariant:"warning"},{text:"Offline",value:"offline",radioVariant:"secondary"}];return{perfectScrollbarSettings:t,userStatusOptions:a}}},$=V,T=(e("16a3"),Object(j["a"])($,B,M,!1,null,"d410e6a2",null)),F=T.exports,E={components:{BAvatar:o["a"],BInputGroup:h["a"],BInputGroupPrepend:w["a"],BFormInput:f["a"],VuePerfectScrollbar:b.a,ChatContact:k,UserProfileSidebar:F},props:{chatsContacts:{type:Array,required:!0},contacts:{type:Array,required:!0},shallShowUserProfileSidebar:{type:Boolean,required:!0},profileUserData:{type:Object,required:!0},profileUserMinimalData:{type:Object,required:!0},activeChatContactId:{type:Number,default:null},mqShallShowLeftSidebar:{type:Boolean,required:!0}},setup:function(t){var a={maxScrollbarLength:150},e=function(a){return t.contacts.find((function(t){return t.id===a}))},s=Object(c["ref"])(""),r=function(t){return t.fullName.toLowerCase().includes(s.value.toLowerCase())},i=Object(c["computed"])((function(){return t.chatsContacts.filter(r)})),n=Object(c["computed"])((function(){return t.contacts.filter(r)}));return{searchQuery:s,filteredChatsContacts:i,filteredContacts:n,resolveChatContact:e,perfectScrollbarSettings:a}}},N=E,R=Object(j["a"])(N,g,S,!1,null,null,null),G=R.exports,Q=e("7f80"),X={namespaced:!0,state:{},getters:{},mutations:{},actions:{fetchChatsAndContacts:function(){return new Promise((function(t,a){Q["a"].get("/apps/chat/chats-and-contacts").then((function(a){return t(a)})).catch((function(t){return a(t)}))}))},getProfileUser:function(){return new Promise((function(t,a){Q["a"].get("/apps/chat/users/profile-user").then((function(a){return t(a)})).catch((function(t){return a(t)}))}))},getChat:function(t,a){var e=a.userId;return new Promise((function(t,a){Q["a"].get("/apps/chat/chats/".concat(e)).then((function(a){return t(a)})).catch((function(t){return a(t)}))}))},sendMessage:function(t,a){var e=a.contactId,s=a.message,r=a.senderId;return new Promise((function(t,a){Q["a"].post("/apps/chat/chats/".concat(e),{message:s,senderId:r}).then((function(a){return t(a)})).catch((function(t){return a(t)}))}))}}},J=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"user-profile-sidebar",class:{show:t.shallShowActiveChatContactSidebar}},[t.contact?e("header",{staticClass:"user-profile-header"},[e("span",{staticClass:"close-icon"},[e("feather-icon",{attrs:{icon:"XIcon"},on:{click:function(a){return t.$emit("update:shall-show-active-chat-contact-sidebar",!1)}}})],1),e("div",{staticClass:"header-profile-sidebar"},[e("div",{staticClass:"avatar box-shadow-1 avatar-xl avatar-border"},[e("b-avatar",{attrs:{size:"70",src:t.contact.avatar}}),e("span",{staticClass:"avatar-status-xl",class:"avatar-status-"+t.contact.status})],1),e("h4",{staticClass:"chat-user-name"},[t._v(" "+t._s(t.contact.fullName)+" ")]),e("span",{staticClass:"user-post text-capitalize"},[t._v(t._s(t.contact.role))])])]):t._e(),e("vue-perfect-scrollbar",{staticClass:"user-profile-sidebar-area scroll-area",attrs:{settings:t.perfectScrollbarSettings}},[e("h6",{staticClass:"section-label mb-1"},[t._v(" About ")]),e("p",[t._v(t._s(t.contact.about))]),e("div",{staticClass:"personal-info"},[e("h6",{staticClass:"section-label mb-1 mt-3"},[t._v(" Personal Information ")]),e("ul",{staticClass:"list-unstyled"},[e("li",{staticClass:"mb-1"},[e("feather-icon",{staticClass:"mr-75",attrs:{icon:"MailIcon",size:"16"}}),e("span",{staticClass:"align-middle"},[t._v("lucifer@email.com")])],1),e("li",{staticClass:"mb-1"},[e("feather-icon",{staticClass:"mr-75",attrs:{icon:"PhoneCallIcon",size:"16"}}),e("span",{staticClass:"align-middle"},[t._v("+1(123) 456 - 7890")])],1),e("li",[e("feather-icon",{staticClass:"mr-75",attrs:{icon:"ClockIcon",size:"16"}}),e("span",{staticClass:"align-middle"},[t._v("Mon - Fri 10AM - 8PM")])],1)])]),e("div",{staticClass:"more-options"},[e("h6",{staticClass:"section-label mb-1 mt-3"},[t._v(" Options ")]),e("ul",{staticClass:"list-unstyled"},[e("li",{staticClass:"cursor-pointer mb-1"},[e("feather-icon",{staticClass:"mr-75",attrs:{icon:"TagIcon",size:"16"}}),e("span",{staticClass:"align-middle"},[t._v("Add Tag")])],1),e("li",{staticClass:"cursor-pointer mb-1"},[e("feather-icon",{staticClass:"mr-75",attrs:{icon:"StarIcon",size:"16"}}),e("span",{staticClass:"align-middle"},[t._v("Important Contact")])],1),e("li",{staticClass:"cursor-pointer mb-1"},[e("feather-icon",{staticClass:"mr-75",attrs:{icon:"ImageIcon",size:"16"}}),e("span",{staticClass:"align-middle"},[t._v("Shared Media")])],1),e("li",{staticClass:"cursor-pointer mb-1"},[e("feather-icon",{staticClass:"mr-75",attrs:{icon:"TrashIcon",size:"16"}}),e("span",{staticClass:"align-middle"},[t._v("Delete Contact")])],1),e("li",{staticClass:"cursor-pointer"},[e("feather-icon",{staticClass:"mr-75",attrs:{icon:"SlashIcon",size:"16"}}),e("span",{staticClass:"align-middle"},[t._v("Block Contact")])],1)])])])],1)},Y=[],H={components:{BAvatar:o["a"],VuePerfectScrollbar:b.a},props:{shallShowActiveChatContactSidebar:{type:Boolean,required:!0},contact:{type:Object,required:!0}},setup:function(){var t={maxScrollbarLength:150};return{perfectScrollbarSettings:t}}},W=H,K=Object(j["a"])(W,J,Y,!1,null,null,null),Z=K.exports,tt=e("aa5c"),at={components:{BAvatar:o["a"],BDropdown:l["a"],BDropdownItem:u["a"],BForm:d["a"],BInputGroup:h["a"],BFormInput:f["a"],BButton:p["a"],VuePerfectScrollbar:b.a,ChatLeftSidebar:G,ChatActiveChatContentDetailsSidedbar:Z,ChatLog:tt["a"]},setup:function(){var t="app-chat";n["a"].hasModule(t)||n["a"].registerModule(t,X),Object(c["onUnmounted"])((function(){n["a"].hasModule(t)&&n["a"].unregisterModule(t)}));var a=I(),e=a.resolveAvatarBadgeVariant,s=Object(c["ref"])(null),r=function(){var t=s.value.$el||s.value;t.scrollTop=t.scrollHeight},o=Object(c["ref"])([]),l=Object(c["ref"])([]),u=function(){n["a"].dispatch("app-chat/fetchChatsAndContacts").then((function(t){o.value=t.data.chatsContacts,l.value=t.data.contacts,g.value=t.data.profileUser}))};u();var d=Object(c["ref"])({}),h=Object(c["ref"])(""),f=function(t){h.value="",n["a"].dispatch("app-chat/getChat",{userId:t}).then((function(a){d.value=a.data;var e=o.value.find((function(a){return a.id===t}));e&&(e.chat.unseenMsgs=0),Object(c["nextTick"])((function(){r()}))})),y.value=!1},p=function(){if(h.value){var t={contactId:d.value.contact.id,senderId:g.value.id,message:h.value};n["a"].dispatch("app-chat/sendMessage",t).then((function(t){var a=t.data,e=a.newMessageData,s=a.chat;void 0!==s?(d.value={chat:s,contact:d.value.contact},o.value.push(Object(i["a"])(Object(i["a"])({},d.value.contact),{},{chat:{id:s.id,lastMessage:e,unseenMsgs:0}}))):d.value.chat.chat.push(e),h.value="";var n=o.value.find((function(t){return t.id===d.value.contact.id}));n.chat.lastMessage=e,Object(c["nextTick"])((function(){r()}))}))}},v={maxScrollbarLength:150},b=Object(c["ref"])({}),g=Object(c["ref"])({}),S=Object(c["ref"])(!1),w=function(){n["a"].dispatch("app-chat/getProfileUser").then((function(t){b.value=t.data,S.value=!0}))},_=Object(c["ref"])(!1),x=Object(C["a"])(),y=x.mqShallShowLeftSidebar,D=function(){n["a"].state.app.windowWidth<m["a"].lg&&(y.value=!0)};return{resolveAvatarBadgeVariant:e,chatsContacts:o,contacts:l,refChatLogPS:s,activeChat:d,chatInputMessage:h,openChatOfContact:f,sendMessage:p,profileUserDataMinimal:g,profileUserData:b,shallShowUserProfileSidebar:S,showUserProfileSidebar:w,shallShowActiveChatContactSidebar:_,perfectScrollbarSettings:v,startConversation:D,mqShallShowLeftSidebar:y}}},et=at,st=(e("0ddc"),Object(j["a"])(et,s,r,!1,null,"5e8ea5c2",null));a["default"]=st.exports},ca6e:function(t,a,e){"use strict";e.d(a,"b",(function(){return c})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return l})),e.d(a,"d",(function(){return u}));var s=e("5530"),r=e("53ca"),i=e("a18c"),n=e("ed09"),c=function(t){return"object"===Object(r["a"])(t)&&null!==t},o=function(t){var a=new Date;return t.getDate()===a.getDate()&&t.getMonth()===a.getMonth()&&t.getFullYear()===a.getFullYear()},l=function(t){var a=i["a"].resolve(t),e=a.route;return e.path===i["a"].currentRoute.path},u=function(){var t=Object(n["getCurrentInstance"])().proxy,a=Object(n["reactive"])({route:t.$route});return Object(n["watch"])((function(){return t.$route}),(function(t){a.route=t})),Object(s["a"])(Object(s["a"])({},Object(n["toRefs"])(a)),{},{router:t.$router})}}}]);